"use strict";(self.webpackChunkuefa_players=self.webpackChunkuefa_players||[]).push([[179],{303:()=>{function ye(t){return"function"==typeof t}function su(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Gl=su(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function po(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class In{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof Gl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Tb(s)}catch(o){e=e??[],o instanceof Gl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Gl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Tb(e);else{if(e instanceof In){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&po(n,e)}remove(e){const{_finalizers:n}=this;n&&po(n,e),e instanceof In&&e._removeParent(this)}}In.EMPTY=(()=>{const t=new In;return t.closed=!0,t})();const Eb=In.EMPTY;function Db(t){return t instanceof In||t&&"closed"in t&&ye(t.remove)&&ye(t.add)&&ye(t.unsubscribe)}function Tb(t){ye(t)?t():t.unsubscribe()}const us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zl={setTimeout(t,e,...n){const{delegate:r}=zl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=zl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cb(t){zl.setTimeout(()=>{const{onUnhandledError:e}=us;if(!e)throw t;e(t)})}function bb(){}const MB=hg("C",void 0,void 0);function hg(t,e,n){return{kind:t,value:e,error:n}}let cs=null;function ql(t){if(us.useDeprecatedSynchronousErrorHandling){const e=!cs;if(e&&(cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=cs;if(cs=null,n)throw r}}else t()}class fg extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Db(e)&&e.add(this)):this.destination=FB}static create(e,n,r){return new ou(e,n,r)}next(e){this.isStopped?gg(function RB(t){return hg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?gg(function kB(t){return hg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gg(MB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NB=Function.prototype.bind;function pg(t,e){return NB.call(t,e)}class OB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wl(r)}else Wl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wl(n)}}}class ou extends fg{constructor(e,n,r){let i;if(super(),ye(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&us.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pg(e.next,s),error:e.error&&pg(e.error,s),complete:e.complete&&pg(e.complete,s)}):i=e}this.destination=new OB(i)}}function Wl(t){us.useDeprecatedSynchronousErrorHandling?function PB(t){us.useDeprecatedSynchronousErrorHandling&&cs&&(cs.errorThrown=!0,cs.error=t)}(t):Cb(t)}function gg(t,e){const{onStoppedNotification:n}=us;n&&zl.setTimeout(()=>n(t,e))}const FB={closed:!0,next:bb,error:function LB(t){throw t},complete:bb},mg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ls(t){return t}function Sb(t){return 0===t.length?ls:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function BB(t){return t&&t instanceof fg||function UB(t){return t&&ye(t.next)&&ye(t.error)&&ye(t.complete)}(t)&&Db(t)}(n)?n:new ou(n,r,i);return ql(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ab(r))((i,s)=>{const o=new ou({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[mg](){return this}pipe(...n){return Sb(n)(this)}toPromise(n){return new(n=Ab(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ab(t){var e;return null!==(e=t??us.Promise)&&void 0!==e?e:Promise}const jB=su(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vn=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new xb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jB}next(n){ql(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ql(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ql(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Eb:(this.currentObservers=null,s.push(n),new In(()=>{this.currentObservers=null,po(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new xb(e,n),t})();class xb extends Vn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Eb}}function Mb(t){return ye(t?.lift)}function gt(t){return e=>{if(Mb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function mt(t,e,n,r,i){return new $B(t,e,n,r,i)}class $B extends fg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ce(t,e){return gt((n,r)=>{let i=0;n.subscribe(mt(r,s=>{r.next(t.call(e,s,i++))}))})}function vg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Di(t){return this instanceof Di?(this.v=t,this):new Di(t)}function Pb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Di?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Nb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ig(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Eg=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Ob(t){return ye(t?.then)}function Lb(t){return ye(t[mg])}function Fb(t){return Symbol.asyncIterator&&ye(t?.[Symbol.asyncIterator])}function Vb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ub=function cj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bb(t){return ye(t?.[Ub])}function jb(t){return Pb(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Di(n.read());if(i)return yield Di(void 0);yield yield Di(r)}}finally{n.releaseLock()}})}function $b(t){return ye(t?.getReader)}function Yn(t){if(t instanceof Ue)return t;if(null!=t){if(Lb(t))return function lj(t){return new Ue(e=>{const n=t[mg]();if(ye(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Eg(t))return function dj(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Ob(t))return function hj(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cb)})}(t);if(Fb(t))return Hb(t);if(Bb(t))return function fj(t){return new Ue(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if($b(t))return function pj(t){return Hb(jb(t))}(t)}throw Vb(t)}function Hb(t){return new Ue(e=>{(function gj(t,e){var n,r,i,s;return function kb(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Nb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Gr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function yt(t,e,n=1/0){return ye(e)?yt((r,i)=>ce((s,o)=>e(r,s,i,o))(Yn(t(r,i))),n):("number"==typeof e&&(n=e),gt((r,i)=>function mj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Yn(n(g,l++)).subscribe(mt(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?Gr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(mt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function go(t=1/0){return yt(ls,t)}const zr=new Ue(t=>t.complete());function Dg(t){return t[t.length-1]}function au(t){return function _j(t){return t&&ye(t.schedule)}(Dg(t))?t.pop():void 0}function Kl(t,e=0){return gt((n,r)=>{n.subscribe(mt(r,i=>Gr(r,t,()=>r.next(i),e),()=>Gr(r,t,()=>r.complete(),e),i=>Gr(r,t,()=>r.error(i),e)))})}function Ql(t,e=0){return gt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Gb(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{Gr(n,e,()=>{const r=t[Symbol.asyncIterator]();Gr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _t(t,e){return e?function bj(t,e){if(null!=t){if(Lb(t))return function Ij(t,e){return Yn(t).pipe(Ql(e),Kl(e))}(t,e);if(Eg(t))return function Dj(t,e){return new Ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Ob(t))return function Ej(t,e){return Yn(t).pipe(Ql(e),Kl(e))}(t,e);if(Fb(t))return Gb(t,e);if(Bb(t))return function Tj(t,e){return new Ue(n=>{let r;return Gr(n,e,()=>{r=t[Ub](),Gr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(t,e);if($b(t))return function Cj(t,e){return Gb(jb(t),e)}(t,e)}throw Vb(t)}(t,e):Yn(t)}function Tg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ou({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const xj=be({__forward_ref__:be});function Sg(t){return t.__forward_ref__=Sg,t.toString=function(){return Se(this())},t}function q(t){return function Ag(t){return"function"==typeof t&&t.hasOwnProperty(xj)&&t.__forward_ref__===Sg}(t)?t():t}class N extends Error{constructor(e,n){super(function Yl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Y(t){return"string"==typeof t?t:null==t?"":String(t)}function Jl(t,e){throw new N(-201,!1)}function Dn(t,e){null==t&&function Ie(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xl(t){return zb(t,Zl)||zb(t,Wb)}function zb(t,e){return t.hasOwnProperty(e)?t[e]:null}function qb(t){return t&&(t.hasOwnProperty(xg)||t.hasOwnProperty(Vj))?t[xg]:null}const Zl=be({\u0275prov:be}),xg=be({\u0275inj:be}),Wb=be({ngInjectableDef:be}),Vj=be({ngInjectorDef:be});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Mg;function Un(t){const e=Mg;return Mg=t,e}function Kb(t,e,n){const r=Xl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void Jl(Se(t))}function Ti(t){return{toString:t}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),_r=(()=>{return(t=_r||(_r={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",_r;var t})();const Ae=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),mo={},ve=[],ed=be({\u0275cmp:be}),kg=be({\u0275dir:be}),Rg=be({\u0275pipe:be}),Qb=be({\u0275mod:be}),Wr=be({\u0275fac:be}),uu=be({__NG_ELEMENT_ID__:be});let Bj=0;function Bn(t){return Ti(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_r.Emulated,id:"c"+Bj++,styles:t.styles||ve,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=Xb(t.inputs,r),i.outputs=Xb(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Yb).filter(Jb):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(en).filter(Jb):null,i})}function Yb(t){return De(t)||Zt(t)}function Jb(t){return null!==t}function vr(t){return Ti(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Xb(t,e){if(null==t)return mo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const $t=Bn;function De(t){return t[ed]||null}function Zt(t){return t[kg]||null}function en(t){return t[Rg]||null}function Tn(t,e){const n=t[Qb]||null;if(!n&&!0===e)throw new Error(`Type ${Se(t)} does not have '\u0275mod' property.`);return n}function fn(t){return Array.isArray(t)&&"object"==typeof t[1]}function er(t){return Array.isArray(t)&&!0===t[1]}function Og(t){return 0!=(8&t.flags)}function id(t){return 2==(2&t.flags)}function sd(t){return 1==(1&t.flags)}function tr(t){return null!==t.template}function qj(t){return 0!=(256&t[2])}function gs(t,e){return t.hasOwnProperty(Wr)?t[Wr]:null}class Qj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wr(){return tS}function tS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Jj),Yj}function Yj(){const t=rS(this),e=t?.current;if(e){const n=t.previous;if(n===mo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Jj(t,e,n,r){const i=rS(t)||function Xj(t,e){return t[nS]=e}(t,{previous:mo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Qj(u&&u.currentValue,e,o===mo),t[r]=e}wr.ngInherit=!0;const nS="__ngSimpleChanges__";function rS(t){return t[nS]||null}function at(t){for(;Array.isArray(t);)t=t[0];return t}function bn(t,e){return at(e[t.index])}function Bg(t,e){return t.data[e]}function Sn(t,e){const n=e[t];return fn(n)?n:n[0]}function ad(t){return 64==(64&t[2])}function Ci(t,e){return null==e?null:t[e]}function iS(t){t[18]=0}function jg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const K={lFrame:pS(null),bindingsEnabled:!0};function oS(){return K.bindingsEnabled}function D(){return K.lFrame.lView}function fe(){return K.lFrame.tView}function $g(t){return K.lFrame.contextLView=t,t[8]}function Hg(t){return K.lFrame.contextLView=null,t}function vt(){let t=aS();for(;null!==t&&64===t.type;)t=t.parent;return t}function aS(){return K.lFrame.currentTNode}function Ir(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function Gg(){return K.lFrame.isParent}function zg(){K.lFrame.isParent=!1}function Eo(){return K.lFrame.bindingIndex++}function f$(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,qg(e)}function qg(t){K.lFrame.currentDirectiveIndex=t}function dS(){return K.lFrame.currentQueryIndex}function Kg(t){K.lFrame.currentQueryIndex=t}function g$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function hS(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=g$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=fS();return r.currentTNode=e,r.lView=t,!0}function Qg(t){const e=fS(),n=t[1];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fS(){const t=K.lFrame,e=null===t?null:t.child;return null===e?pS(t):e}function pS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function gS(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const mS=gS;function Yg(){const t=gS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nn(){return K.lFrame.selectedIndex}function bi(t){K.lFrame.selectedIndex=t}function $e(){const t=K.lFrame;return Bg(t.tView,t.selectedIndex)}function ud(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function cd(t,e,n){yS(t,e,3,n)}function ld(t,e,n,r){(3&t[2])===n&&yS(t,e,n,r)}function Jg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function yS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(T$(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function T$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class pu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function dd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];vS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function _S(t){return 3===t||4===t||6===t}function vS(t){return 64===t.charCodeAt(0)}function hd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||wS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function wS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function IS(t){return-1!==t}function Do(t){return 32767&t}function To(t,e){let n=function x$(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Zg=!0;function fd(t){const e=Zg;return Zg=t,e}let M$=0;const Er={};function mu(t,e){const n=tm(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,em(r.data,t),em(e,null),em(r.blueprint,null));const i=pd(t,e),s=t.injectorIndex;if(IS(i)){const o=Do(i),a=To(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function em(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tm(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=MS(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function gd(t,e,n){!function k$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(uu)&&(r=n[uu]),null==r&&(r=n[uu]=M$++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function TS(t,e,n){if(n&H.Optional||void 0!==t)return t;Jl()}function CS(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){const i=t[9],s=Un(void 0);try{return i?i.get(e,r,n&H.Optional):Kb(e,r,n&H.Optional)}finally{Un(s)}}return TS(r,0,n)}function bS(t,e,n,r=H.Default,i){if(null!==t){if(1024&e[2]){const o=function F$(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=SS(s,o,n,r|H.Self,Er);if(a!==Er)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,Er,r);if(l!==Er)return l}u=MS(o),o=o[15]}s=u}return i}(t,e,n,r,Er);if(o!==Er)return o}const s=SS(t,e,n,r,Er);if(s!==Er)return s}return CS(e,n,r,i)}function SS(t,e,n,r,i){const s=function N$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(uu)?t[uu]:void 0;return"number"==typeof e?e>=0?255&e:O$:e}(n);if("function"==typeof s){if(!hS(e,t,r))return r&H.Host?TS(i,0,r):CS(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;Jl()}finally{mS()}}else if("number"==typeof s){let o=null,a=tm(t,e),u=-1,c=r&H.Host?e[16][6]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?pd(t,e):e[a+8],-1!==u&&xS(r,!1)?(o=e[1],a=Do(u),e=To(u,e)):a=-1);-1!==a;){const l=e[1];if(AS(s,a,l.data)){const d=P$(a,e,n,o,r,c);if(d!==Er)return d}u=e[a+8],-1!==u&&xS(r,e[1].data[a+8]===c)&&AS(s,a,e)?(o=l,a=Do(u),e=To(u,e)):a=-1}}return i}function P$(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=md(a,o,n,null==r?id(a)&&Zg:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?yu(e,o,l,a):Er}function md(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&tr(f)&&f.type===n)return u}return null}function yu(t,e,n,r){let i=t[n];const s=e.data;if(function C$(t){return t instanceof pu}(i)){const o=i;o.resolving&&function Mj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new N(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Y(t)}(s[n]));const a=fd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Un(o.injectImpl):null;hS(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function D$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=tS(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Un(u),fd(a),o.resolving=!1,mS()}}return i}function AS(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function xS(t,e){return!(t&H.Self||t&H.Host&&e)}class Co{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return bS(this._tNode,this._lView,e,r,n)}}function O$(){return new Co(vt(),D())}function MS(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}function _u(t){return function R$(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(_S(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(vt(),t)}const So="__parameters__";function xo(t,e,n){return Ti(()=>{const r=function rm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(So)?u[So]:Object.defineProperty(u,So,{value:[]})[So];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ${constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function An(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),An(r,e)):e!==t&&e.push(r)}return e}function Yr(t,e){t.forEach(n=>Array.isArray(n)?Yr(n,e):e(n))}function RS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Iu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}const Eu={},am="__NG_DI_FLAG__",vd="ngTempTokenPath",Q$=/\n/gm,LS="__source";let Du;function ko(t){const e=Du;return Du=t,e}function J$(t,e=H.Default){if(void 0===Du)throw new N(-203,!1);return null===Du?Kb(t,void 0,e):Du.get(t,e&H.Optional?null:void 0,e)}function U(t,e=H.Default){return(function Uj(){return Mg}()||J$)(q(t),e)}function Ke(t,e=H.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),U(t,e)}function um(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new N(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=X$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function Tu(t,e){return t[am]=e,t.prototype[am]=e,t}function X$(t){return t[am]}const rn=Tu(xo("Optional"),8),Cu=Tu(xo("SkipSelf"),4);var pn=(()=>((pn=pn||{})[pn.Important=1]="Important",pn[pn.DashCase=2]="DashCase",pn))();const fm=new Map;let m4=0;const gm="__ngContext__";function zt(t,e){fn(e)?(t[gm]=e[20],function _4(t){fm.set(t[20],t)}(e)):t[gm]=e}function ym(t,e){return undefined(t,e)}function xu(t){const e=t[3];return er(e)?e[3]:e}function _m(t){return rA(t[13])}function vm(t){return rA(t[4])}function rA(t){for(;null!==t&&!er(t);)t=t[4];return t}function Po(t,e,n,r,i){if(null!=r){let s,o=!1;er(r)?s=r:fn(r)&&(o=!0,r=r[0]);const a=at(r);0===t&&null!==n?null==i?cA(e,n,a):ms(e,n,a,i||null,!0):1===t&&null!==n?ms(e,n,a,i||null,!0):2===t?function bm(t,e,n){const r=Ed(t,e);r&&function B4(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function H4(t,e,n,r,i){const s=n[7];s!==at(n)&&Po(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Mu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Im(t,e,n){return t.createElement(e,n)}function sA(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,jg(i,-1)),n.splice(r,1)}function Em(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&sA(i,r),e>0&&(t[n-1][4]=r[4]);const s=yd(t,10+e);!function R4(t,e){Mu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function oA(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Mu(t,e,n,3,null,null),function O4(t){let e=t[13];if(!e)return Dm(t[1],t);for(;e;){let n=null;if(fn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)fn(e)&&Dm(e[1],e),e=e[3];null===e&&(e=t),fn(e)&&Dm(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dm(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function U4(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof pu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function V4(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):at(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&er(e[3])){n!==e[3]&&sA(n,e);const r=e[19];null!==r&&r.detachView(t)}!function v4(t){fm.delete(t[20])}(e)}}function aA(t,e,n){return function uA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===_r.None||i===_r.Emulated)return null}return bn(r,n)}(t,e.parent,n)}function ms(t,e,n,r,i){t.insertBefore(e,n,r,i)}function cA(t,e,n){t.appendChild(e,n)}function lA(t,e,n,r,i){null!==r?ms(t,e,n,r,i):cA(t,e,n)}function Ed(t,e){return t.parentNode(e)}function dA(t,e,n){return fA(t,e,n)}let Mm,fA=function hA(t,e,n){return 40&t.type?bn(t,n):null};function Dd(t,e,n,r){const i=aA(t,r,e),s=e[11],a=dA(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)lA(s,i,n[u],a,!1);else lA(s,i,n,a,!1)}function Td(t,e){if(null!==e){const n=e.type;if(3&n)return bn(e,t);if(4&n)return Cm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Td(t,r);{const i=t[e.index];return er(i)?Cm(-1,i):at(i)}}if(32&n)return ym(e,t)()||at(t[e.index]);{const r=gA(t,e);return null!==r?Array.isArray(r)?r[0]:Td(xu(t[16]),r):Td(t,e.next)}}return null}function gA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Cm(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Td(r,i)}return e[7]}function Sm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&zt(at(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Sm(t,e,n.child,r,i,s,!1),Po(e,t,i,a,s);else if(32&u){const c=ym(n,r);let l;for(;l=c();)Po(e,t,i,l,s);Po(e,t,i,a,s)}else 16&u?mA(t,e,r,n,i,s):Po(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Mu(t,e,n,r,i,s){Sm(n,r,t.firstChild,e,i,s,!1)}function mA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Po(e,t,i,u[c],s);else Sm(t,e,u,o[3],i,s,!0)}function yA(t,e,n){t.setAttribute(e,"style",n)}function Am(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}class EA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const iH=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ut=(()=>((ut=ut||{})[ut.NONE=0]="NONE",ut[ut.HTML=1]="HTML",ut[ut.STYLE=2]="STYLE",ut[ut.SCRIPT=3]="SCRIPT",ut[ut.URL=4]="URL",ut[ut.RESOURCE_URL=5]="RESOURCE_URL",ut))();function Ad(t){const e=function Pu(){const t=D();return t&&t[12]}();return e?e.sanitize(ut.URL,t)||"":function ku(t,e){const n=function eH(t){return t instanceof EA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function Ai(t){return t instanceof EA?t.changingThisBreaksApplicationSecurity:t}(t):function Rm(t){return(t=String(t)).match(iH)?t:"unsafe:"+t}(Y(t))}const Lm=new $("ENVIRONMENT_INITIALIZER"),MA=new $("INJECTOR",-1),kA=new $("INJECTOR_DEF_TYPES");class RA{get(e,n=Eu){if(n===Eu){const r=new Error(`NullInjectorError: No provider for ${Se(e)}!`);throw r.name="NullInjectorError",r}return n}}function _H(...t){return{\u0275providers:PA(0,t)}}function PA(t,...e){const n=[],r=new Set;let i;return Yr(e,s=>{const o=s;Fm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&NA(i,n),n}function NA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Yr(i,s=>{e.push(s)})}}function Fm(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=qb(t);const o=!s&&De(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=qb(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Fm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Yr(s.imports,l=>{Fm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&NA(c,e)}if(!a){const c=gs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ve},{provide:kA,useValue:i,multi:!0},{provide:Lm,useValue:()=>U(i),multi:!0})}const u=s.providers;null==u||a||Yr(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const vH=be({provide:String,useValue:be});function Vm(t){return null!==t&&"object"==typeof t&&vH in t}function _s(t){return"function"==typeof t}const Um=new $("Set Injector scope."),xd={},IH={};let Bm;function Md(){return void 0===Bm&&(Bm=new RA),Bm}class xi{}class FA extends xi{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$m(e,o=>this.processProvider(o)),this.records.set(MA,No(void 0,this)),i.has("environment")&&this.records.set(xi,No(void 0,this));const s=this.records.get(Um);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(kA.multi,ve,H.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=ko(this),r=Un(void 0);try{return e()}finally{ko(n),Un(r)}}get(e,n=Eu,r=H.Default){this.assertNotDestroyed();const i=ko(this),s=Un(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function bH(t){return"function"==typeof t||"object"==typeof t&&t instanceof $}(e)&&Xl(e);a=u&&this.injectableDefInScope(u)?No(jm(e),xd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?Md():this.parent).get(e,n=r&H.Optional&&n===Eu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[vd]=o[vd]||[]).unshift(Se(e)),i)throw o;return function Z$(t,e,n,r){const i=t[vd];throw e[LS]&&i.unshift(e[LS]),t.message=function e4(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Se(e);if(Array.isArray(e))i=e.map(Se).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Se(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Q$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[vd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Un(s),ko(i)}}resolveInjectorInitializers(){const e=ko(this),n=Un(void 0);try{const r=this.get(Lm.multi,ve,H.Self);for(const i of r)i()}finally{ko(e),Un(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Se(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(e){let n=_s(e=q(e))?e:q(e&&e.provide);const r=function DH(t){return Vm(t)?No(void 0,t.useValue):No(function VA(t,e,n){let r;if(_s(t)){const i=q(t);return gs(i)||jm(i)}if(Vm(t))r=()=>q(t.useValue);else if(function LA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...um(t.deps||[]));else if(function OA(t){return!(!t||!t.useExisting)}(t))r=()=>U(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function TH(t){return!!t.deps}(t))return gs(i)||jm(i);r=()=>new i(...um(t.deps))}return r}(t),xd)}(e);if(_s(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=No(void 0,xd,!0),i.factory=()=>um(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===xd&&(n.value=IH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function CH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function jm(t){const e=Xl(t),n=null!==e?e.factory:gs(t);if(null!==n)return n;if(t instanceof $)throw new N(204,!1);if(t instanceof Function)return function EH(t){const e=t.length;if(e>0)throw Iu(e,"?"),new N(204,!1);const n=function Lj(t){const e=t&&(t[Zl]||t[Wb]);if(e){const n=function Fj(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new N(204,!1)}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function SH(t){return!!t.\u0275providers}function $m(t,e){for(const n of t)Array.isArray(n)?$m(n,e):SH(n)?$m(n.\u0275providers,e):e(n)}class UA{}class MH{resolveComponentFactory(e){throw function xH(t){const e=Error(`No component factory found for ${Se(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Nu=(()=>{class t{}return t.NULL=new MH,t})();function kH(){return Oo(vt(),D())}function Oo(t,e){return new Dr(bn(t,e))}let Dr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=kH,t})();function RH(t){return t instanceof Dr?t.nativeElement:t}class jA{}let kd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function PH(){const t=D(),n=Sn(vt().index,t);return(fn(n)?n:t)[11]}(),t})(),NH=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),t})();class Ou{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $A=new Ou("14.3.0"),Hm={};function zm(t){return t.ngOriginalError}class Lo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zm(e);for(;n&&zm(n);)n=zm(n);return n||null}}function Xr(t){return t instanceof Function?t():t}function GA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const zA="ng-template";function zH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==GA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function qA(t){return 4===t.type&&t.value!==zA}function qH(t,e,n){return e===(4!==t.type||n?t.value:zA)}function WH(t,e,n){let r=4;const i=t.attrs||[],s=function YH(t){for(let e=0;e<t.length;e++)if(_S(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!qH(t,u,n)||""===u&&1===e.length){if(nr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!zH(t.attrs,c,n)){if(nr(r))return!1;o=!0}continue}const d=KH(8&r?"class":u,i,qA(t),n);if(-1===d){if(nr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==GA(f,c,0)||2&r&&c!==h){if(nr(r))return!1;o=!0}}}}else{if(!o&&!nr(r)&&!nr(u))return!1;if(o&&nr(u))continue;o=!1,r=u|1&r}}return nr(r)||o}function nr(t){return 0==(1&t)}function KH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function JH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function WA(t,e,n=!1){for(let r=0;r<e.length;r++)if(WH(t,e[r],n))return!0;return!1}function XH(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function KA(t,e){return t?":not("+e.trim()+")":e}function ZH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!nr(o)&&(e+=KA(s,i),i=""),r=o,s=s||!nr(r);n++}return""!==i&&(e+=KA(s,i)),e}const X={};function pe(t){QA(fe(),D(),nn()+t,!1)}function QA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&cd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ld(e,s,0,n)}bi(n)}function ZA(t,e=null,n=null,r){const i=ex(t,e,n,r);return i.resolveInjectorInitializers(),i}function ex(t,e=null,n=null,r,i=new Set){const s=[n||ve,_H(t)];return r=r||("object"==typeof t?void 0:Se(t)),new FA(s,e||Md(),r||null,i)}let Mn=(()=>{class t{static create(n,r){if(Array.isArray(n))return ZA({name:""},r,n,"");{const i=n.name??"";return ZA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Eu,t.NULL=new RA,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>U(MA)}),t.__NG_ELEMENT_ID__=-1,t})();function P(t,e=H.Default){const n=D();return null===n?U(t,e):bS(vt(),n,q(t),e)}function Ym(){throw new Error("invalid")}function yx(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Kg(i),o.contentQueries(2,e[s],s)}}}function Ld(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),iS(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function y4(){return m4++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Uo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ay(t,e,n,r,i){const s=aS(),o=Gg(),u=t.data[e]=function OG(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function h$(){return K.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function fu(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ir(s,!0),s}function Bo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function uy(t,e,n){Qg(e);try{const r=t.viewQuery;null!==r&&my(1,r,n);const i=t.template;null!==i&&_x(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yx(t,e),t.staticViewQueries&&my(2,t.viewQuery,n);const s=t.components;null!==s&&function RG(t,e){for(let n=0;n<e.length;n++)JG(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Yg()}}function Fd(t,e,n,r){const i=e[2];if(128!=(128&i)){Qg(e);try{iS(e),function cS(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_x(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&cd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ld(e,c,0,null),Jg(e,0)}if(function QG(t){for(let e=_m(t);null!==e;e=vm(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&jg(s,1),i[2]|=512}}}(e),function KG(t){for(let e=_m(t);null!==e;e=vm(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];ad(r)&&Fd(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&yx(t,e),o){const c=t.contentCheckHooks;null!==c&&cd(e,c)}else{const c=t.contentHooks;null!==c&&ld(e,c,1),Jg(e,1)}!function MG(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)bi(~i);else{const s=i,o=n[++r],a=n[++r];f$(o,s),a(2,e[s])}}}finally{bi(-1)}}(t,e);const a=t.components;null!==a&&function kG(t,e){for(let n=0;n<e.length;n++)YG(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&my(2,u,r),o){const c=t.viewCheckHooks;null!==c&&cd(e,c)}else{const c=t.viewHooks;null!==c&&ld(e,c,2),Jg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,jg(e[3],-1))}finally{Yg()}}}function _x(t,e,n,r,i){const s=nn(),o=2&r;try{bi(-1),o&&e.length>22&&QA(t,e,22,!1),n(r,i)}finally{bi(s)}}function cy(t,e,n){!oS()||(function BG(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||mu(n,e),zt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=tr(u);c&&zG(e,n,u);const l=yu(e,t,a,n);zt(l,e),null!==o&&qG(0,a-i,l,u,0,o),c&&(Sn(n.index,e)[8]=l)}}(t,e,n,bn(n,e)),128==(128&n.flags)&&function jG(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function p$(){return K.lFrame.currentDirectiveIndex}();try{bi(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];qg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&bx(u,c)}}finally{bi(-1),qg(o)}}(t,e,n))}function ly(t,e,n=bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function wx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=dy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function dy(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function PG(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ix(t,e,n,r){const i=kx(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Rx(t).push(r,i.length-1))}function Ex(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Dx(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||qA(e)?null:WG(d,s);o.push(h),a=Ex(d,c,a),u=Ex(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function kn(t,e,n,r,i,s,o,a){const u=bn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(yy(t,n,l,r,i),id(e)&&Tx(n,e.index)):3&e.type&&(r=function LG(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function Tx(t,e){const n=Sn(e,t);16&n[2]||(n[2]|=32)}function hy(t,e,n,r){let i=!1;if(oS()){const s=function $G(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];WA(n,o.selectors,!1)&&(i||(i=[]),gd(mu(n,e),t,o.type),tr(o)?(Sx(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ax(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Bo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=hd(n.mergedAttrs,d.hostAttrs),xx(t,n,e,c,d),GG(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}Dx(t,n)}o&&function HG(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new N(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=hd(n.mergedAttrs,n.attrs),i}function Cx(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function UG(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function bx(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Sx(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function GG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;tr(e)&&(n[""]=t)}}function Ax(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xx(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=gs(i.type)),o=new pu(s,tr(i),P);t.blueprint[r]=o,n[r]=o,Cx(t,e,0,r,Bo(t,n,i.hostVars,X),i)}function zG(t,e,n){const r=bn(e,t),i=wx(n),s=t[10],o=Vd(t,Ld(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function qG(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function WG(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Mx(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function YG(t,e){const n=Sn(e,t);if(ad(n)){const r=n[1];48&n[2]?Fd(r,n,r.template,n[8]):n[5]>0&&py(n)}}function py(t){for(let r=_m(t);null!==r;r=vm(r))for(let i=10;i<r.length;i++){const s=r[i];if(ad(s))if(512&s[2]){const o=s[1];Fd(o,s,o.template,s[8])}else s[5]>0&&py(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Sn(n[r],t);ad(i)&&i[5]>0&&py(i)}}function JG(t,e){const n=Sn(e,t),r=n[1];(function XG(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),uy(r,n,n[8])}function Vd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function gy(t){for(;t;){t[2]|=32;const e=xu(t);if(qj(t)&&!e)return t;t=e}return null}function Ud(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Fd(t,e,t.template,n)}catch(o){throw r&&Nx(e,o),o}finally{i.end&&i.end()}}function my(t,e,n){Kg(0),e(t,n)}function kx(t){return t[7]||(t[7]=[])}function Rx(t){return t.cleanup||(t.cleanup=[])}function Nx(t,e){const n=t[9],r=n?n.get(Lo,null):null;r&&r.handleError(e)}function yy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ei(t,e,n){const r=function od(t,e){return at(e[t])}(e,t);!function iA(t,e,n){t.setValue(e,n)}(t[11],r,n)}function Bd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=bg(i,a):2==s&&(r=bg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function jd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(at(s)),er(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&jd(u[1],u,c,r)}const o=n.type;if(8&o)jd(t,e,n.child,r);else if(32&o){const a=ym(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=gA(e,n);if(Array.isArray(a))r.push(...a);else{const u=xu(e[16]);jd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Lu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return jd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(er(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Em(e,r),yd(n,r))}this._attachedToViewContainer=!1}oA(this._lView[1],this._lView)}onDestroy(e){Ix(this._lView[1],this._lView,null,e)}markForCheck(){gy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ud(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function N4(t,e){Mu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e}}class ZG extends Lu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ud(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class _y extends Nu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=De(e);return new Fu(n,this.ngModule)}}function Ox(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class tz{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,Hm,r);return i!==Hm||n===Hm?i:this.parentInjector.get(e,n,r)}}class Fu extends UA{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function eG(t){return t.map(ZH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ox(this.componentDef.inputs)}get outputs(){return Ox(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof xi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new tz(e,s):e,a=o.get(jA,null);if(null===a)throw new N(407,!1);const u=o.get(NH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function NG(t,e,n){return t.selectRootElement(e,n===_r.ShadowDom)}(c,r,this.componentDef.encapsulation):Im(c,l,function ez(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=dy(0,null,null,1,0,null,null,null,null,null),p=Ld(null,f,null,h,null,null,a,c,u,o,null);let g,m;Qg(p);try{const w=function iz(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=Uo(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Bd(u,c,!0),null!==t&&(dd(i,t,c),null!==u.classes&&Am(i,t,u.classes),null!==u.styles&&yA(i,t,u.styles)));const l=r.createRenderer(t,e),d=Ld(n,wx(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(gd(mu(u,n),o,e.type),Sx(o,u),Ax(u,n.length,1)),Vd(n,d),n[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)dd(c,d,["ng-version",$A.full]);else{const{attrs:E,classes:_}=function tG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!nr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);E&&dd(c,d,E),_&&_.length>0&&Am(c,d,_.join(" "))}if(m=Bg(f,22),void 0!==n){const E=m.projection=[];for(let _=0;_<this.ngContentSelectors.length;_++){const x=n[_];E.push(null!=x?Array.from(x):null)}}g=function sz(t,e,n,r){const i=n[1],s=function VG(t,e,n){const r=vt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),xx(t,r,e,Bo(t,e,1,null),n),Dx(t,r));const i=yu(e,t,r.directiveStart,r);zt(i,e);const s=bn(r,e);return s&&zt(s,e),i}(i,n,e);if(t[8]=n[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=vt();e.contentQueries(1,s,a.directiveStart)}const o=vt();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(bi(o.index),Cx(n[1],o,0,o.directiveStart,o.directiveEnd,e),bx(e,s)),s}(w,this.componentDef,p,[oz]),uy(f,p,null)}finally{Yg()}return new rz(this.componentType,g,Oo(m,p),p,m)}}class rz extends class AH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new ZG(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;yy(s[1],s,i,e,n),Tx(s,this._tNode.index)}}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function oz(){const t=vt();ud(D()[1],t)}let $d=null;function vs(){if(!$d){const t=Ae.Symbol;if(t&&t.iterator)$d=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&($d=r)}}}return $d}function Vu(t){return!!function wy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&vs()in t)}function qt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function $o(t,e,n,r){return qt(t,Eo(),n)?e+Y(n)+r:X}function Ee(t,e,n,r,i,s,o,a){const u=D(),c=fe(),l=t+22,d=c.firstCreatePass?function _z(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Uo(e,t,4,o||null,Ci(c,a));hy(e,n,l,Ci(c,u)),ud(e,l);const d=l.tViews=dy(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Ir(d,!1);const h=u[11].createComment("");Dd(c,u,h,d),zt(h,u),Vd(u,u[l]=Mx(h,u,h,d)),sd(d)&&cy(c,u,d),null!=o&&ly(u,d,a)}function re(t,e,n){const r=D();return qt(r,Eo(),e)&&kn(fe(),$e(),r,t,e,r[11],n,!1),re}function Ey(t,e,n,r,i){const o=i?"class":"style";yy(t,n,e.inputs[o],o,r)}function se(t,e,n,r){const i=D(),s=fe(),o=22+t,a=i[11],u=i[o]=Im(a,e,function E$(){return K.lFrame.currentNamespace}()),c=s.firstCreatePass?function Iz(t,e,n,r,i,s,o){const a=e.consts,c=Uo(e,t,2,i,Ci(a,s));return hy(e,n,c,Ci(a,o)),null!==c.attrs&&Bd(c,c.attrs,!1),null!==c.mergedAttrs&&Bd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Ir(c,!0);const l=c.mergedAttrs;null!==l&&dd(a,u,l);const d=c.classes;null!==d&&Am(a,u,d);const h=c.styles;return null!==h&&yA(a,u,h),64!=(64&c.flags)&&Dd(s,i,u,c),0===function o$(){return K.lFrame.elementDepthCount}()&&zt(u,i),function a$(){K.lFrame.elementDepthCount++}(),sd(c)&&(cy(s,i,c),function vx(t,e,n){if(Og(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&ly(i,c),se}function ie(){let t=vt();Gg()?zg():(t=t.parent,Ir(t,!1));const e=t;!function u$(){K.lFrame.elementDepthCount--}();const n=fe();return n.firstCreatePass&&(ud(n,t),Og(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function S$(t){return 0!=(16&t.flags)}(e)&&Ey(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function A$(t){return 0!=(32&t.flags)}(e)&&Ey(n,e,D(),e.stylesWithoutHost,!1),ie}function Rn(t,e,n,r){return se(t,e,n,r),ie(),Rn}function Cy(){return D()}function Gd(t){return!!t&&"function"==typeof t.then}const Qx=function Kx(t){return!!t&&"function"==typeof t.subscribe};function Yo(t,e,n,r){const i=D(),s=fe(),o=vt();return function Jx(t,e,n,r,i,s,o,a){const u=sd(r),l=t.firstCreatePass&&Rx(t),d=e[8],h=kx(e);let f=!0;if(3&r.type||a){const m=bn(r,e),w=a?a(m):m,E=h.length,_=a?V=>a(at(V[r.index])):r.index;let x=null;if(!a&&u&&(x=function Dz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=Zx(r,e,d,s,!1);const V=n.listen(w,i,s);h.push(s,V),l&&l.push(i,_,E,E+1)}}else s=Zx(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let w=0;w<m;w+=2){const j=e[g[w]][g[w+1]].subscribe(s),Ve=h.length;h.push(s,j),l&&l.push(i,r.index,Ve,-(Ve+1))}}}(s,i,i[11],o,t,e,0,r),Yo}function Xx(t,e,n,r){try{return!1!==n(r)}catch(i){return Nx(t,i),!1}}function Zx(t,e,n,r,i){return function s(o){if(o===Function)return r;gy(2&t.flags?Sn(t.index,e):e);let u=Xx(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=Xx(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Gn(t=1){return function m$(t){return(K.lFrame.contextLView=function y$(t,e){for(;t>0;)e=e[15],t--;return e}(t,K.lFrame.contextLView))[8]}(t)}function Tz(t,e){let n=null;const r=function QH(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?WA(t,s,!0):XH(r,s))return i}else n=i}return n}function zd(t,e,n){return by(t,"",e,"",n),zd}function by(t,e,n,r,i){const s=D(),o=$o(s,e,n,r);return o!==X&&kn(fe(),$e(),s,t,o,s[11],i,!1),by}function Me(t,e=""){const n=D(),r=fe(),i=t+22,s=r.firstCreatePass?Uo(r,i,1,e,null):r.data[i],o=n[i]=function wm(t,e){return t.createText(e)}(n[11],e);Dd(r,n,o,s),Ir(s,!1)}function Ay(t){return ju("",t,""),Ay}function ju(t,e,n){const r=D(),i=$o(r,t,e,n);return i!==X&&ei(r,nn(),i),ju}function xy(t,e,n){const r=D();return qt(r,Eo(),e)&&kn(fe(),$e(),r,t,e,r[11],n,!0),xy}const Zo="en-US";let z1=Zo;class Es{}class yM{}class _M extends Es{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _y(this);const r=Tn(e);this._bootstrapComponents=Xr(r.bootstrap),this._r3Injector=ex(e,n,[{provide:Es,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],Se(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ly extends yM{constructor(e){super(),this.moduleType=e}create(e){return new _M(this.moduleType,e)}}class cq extends Es{constructor(e,n,r){super(),this.componentFactoryResolver=new _y(this),this.instance=null;const i=new FA([...e,{provide:Es,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],n||Md(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Jd(t,e,n=null){return new cq(t,e,n).injector}let lq=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=PA(0,n.type),i=r.length>0?Jd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(U(xi))}),t})();function vM(t){t.getStandaloneInjector=e=>e.get(lq).getOrCreateStandaloneInjector(t)}function bM(t,e,n,r){return function SM(t,e,n,r,i,s){const o=e+n;return qt(t,o,i)?function Cr(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Wu(t,e){const n=t[e];return n===X?void 0:n}(t,o+1)}(D(),function tn(){const t=K.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function Vy(t){return e=>{setTimeout(t,void 0,e)}}const Pe=class Oq extends Vn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Vy(s),i&&(i=Vy(i)),o&&(o=Vy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof In&&e.add(a),a}};function Lq(){return this._results[vs()]()}class Uy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=vs(),r=Uy.prototype;r[n]||(r[n]=Lq)}get changes(){return this._changes||(this._changes=new Pe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=An(e);(this._changesDetected=!function U$(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ti=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uq,t})();const Fq=ti,Vq=class extends Fq{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Ld(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),uy(r,i,e),new Lu(i)}};function Uq(){return Xd(vt(),D())}function Xd(t,e){return 4&t.type?new Vq(e,t,Oo(t,e)):null}let or=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bq,t})();function Bq(){return NM(vt(),D())}const jq=or,RM=class extends jq{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oo(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){const e=pd(this._hostTNode,this._hostLView);if(IS(e)){const n=To(e,this._hostLView),r=Do(e);return new Co(n[1].data[r+8],n)}return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=PM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function wu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Fu(De(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(xi,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function s$(t){return er(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new RM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function L4(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],RS(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function F4(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Cm(s,o),u=r[11],c=Ed(u,o[7]);return null!==c&&function P4(t,e,n,r,i,s){r[0]=i,r[6]=e,Mu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),RS(By(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=PM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);r&&(yd(By(this._lContainer),n),oA(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Em(this._lContainer,n);return r&&null!=yd(By(this._lContainer),n)?new Lu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function PM(t){return t[8]}function By(t){return t[8]||(t[8]=[])}function NM(t,e){let n;const r=e[t.index];if(er(r))n=r;else{let i;if(8&t.type)i=at(r);else{const s=e[11];i=s.createComment("");const o=bn(t,e);ms(s,Ed(s,o),i,function j4(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=Mx(r,e,i,t),Vd(e,n)}return new RM(n,t,e)}class jy{constructor(e){this.queryList=e,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class $y{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new $y(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==UM(e,n).matches&&this.queries[n].setDirty()}}class OM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Hy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Hy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Gy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Gy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,Gq(n,s)),this.matchTNodeWithReadOption(e,n,md(n,e,s,!1,!1))}else r===ti?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,md(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Dr||i===or||i===ti&&4&n.type)this.addMatch(n.index,-2);else{const s=md(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Gq(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function qq(t,e,n,r){return-1===n?function zq(t,e){return 11&t.type?Oo(t,e):4&t.type?Xd(t,e):null}(e,t):-2===n?function Wq(t,e,n){return n===Dr?Oo(e,t):n===ti?Xd(e,t):n===or?NM(e,t):void 0}(t,e,r):yu(t,t[1],n,e)}function LM(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:qq(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function zy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=LM(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&zy(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];zy(f[1],f,c,r)}}}}}return r}function Zd(t){const e=D(),n=fe(),r=dS();Kg(r+1);const i=UM(n,r);if(t.dirty&&function i$(t){return 4==(4&t[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?zy(n,e,r,[]):LM(n,e,i,r);t.reset(s,RH),t.notifyOnChanges()}return!0}return!1}function eh(t,e,n,r){const i=fe();if(i.firstCreatePass){const s=vt();(function VM(t,e,n){null===t.queries&&(t.queries=new Hy),t.queries.track(new Gy(e,n))})(i,new OM(e,n,r),s.index),function Yq(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function FM(t,e,n){const r=new Uy(4==(4&n));Ix(t,e,r,r.destroy),null===e[19]&&(e[19]=new $y),e[19].queries.push(new jy(r))}(i,D(),n)}function UM(t,e){return t.queries.getByIndex(e)}function rh(...t){}const ih=new $("Application Initializer");let sh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=rh,this.reject=rh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Gd(s))n.push(s);else if(Qx(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(U(ih,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yu=new $("AppId",{providedIn:"root",factory:function ik(){return`${Yy()}${Yy()}${Yy()}`}});function Yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sk=new $("Platform Initializer"),oh=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ok=new $("appBootstrapListener");let yW=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ar=new $("LocaleId",{providedIn:"root",factory:()=>Ke(Ar,H.Optional|H.SkipSelf)||function _W(){return typeof $localize<"u"&&$localize.locale||Zo}()});class wW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Jy=(()=>{class t{compileModuleSync(n){return new Ly(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Xr(Tn(n).declarations).reduce((o,a)=>{const u=De(a);return u&&o.push(new Fu(u)),o},[]);return new wW(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const DW=(()=>Promise.resolve(0))();function Xy(t){typeof Zone>"u"?DW.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function TW(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function SW(t){const e=()=>{!function bW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,e_(t),t.isCheckStableRunning=!0,Zy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),e_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ck(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),lk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ck(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),lk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,e_(t),Zy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new N(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CW,rh,rh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const CW={};function Zy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function e_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ck(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lk(t){t._nesting--,Zy(t)}class AW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const dk=new $(""),ah=new $("");let r_,t_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,r_||(function xW(t){r_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),Xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(U(He),U(n_),U(ah))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),n_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return r_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ri=null;const hk=new $("AllowMultipleToken"),i_=new $("PlatformDestroyListeners");class fk{constructor(e,n){this.name=e,this.token=n}}function gk(t,e,n=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let o=s_();if(!o||o.injector.get(hk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function RW(t){if(Ri&&!Ri.get(hk,!1))throw new N(400,!1);Ri=t;const e=t.get(yk);(function pk(t){const e=t.get(sk,null);e&&e.forEach(n=>n())})(t)}(function mk(t=[],e){return Mn.create({name:e,providers:[{provide:Um,useValue:"platform"},{provide:i_,useValue:new Set([()=>Ri=null])},...t]})}(a,r))}return function NW(t){const e=s_();if(!e)throw new N(401,!1);return e}()}}function s_(){return Ri?.get(yk)??null}let yk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function vk(t,e){let n;return n="noop"===t?new AW:("zone.js"===t?void 0:t)||new He(e),n}(r?.ngZone,function _k(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:He,useValue:i}];return i.run(()=>{const o=Mn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Lo,null);if(!u)throw new N(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{ch(this._modules,a),c.unsubscribe()})}),function wk(t,e,n){try{const r=n();return Gd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(sh);return c.runInitializers(),c.donePromise.then(()=>(function q1(t){Dn(t,"Expected localeId to be defined"),"string"==typeof t&&(z1=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ar,Zo)||Zo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Ik({},r);return function MW(t,e,n){const r=new Ly(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(uh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new N(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(i_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(U(Mn))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Ik(t,e){return Array.isArray(e)?e.reduce(Ik,t):{...t,...e}}let uh=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ue(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ue(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),Xy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function Sj(...t){const e=au(t),n=function wj(t,e){return"number"==typeof Dg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Yn(r[0]):go(n)(_t(r,e)):zr}(s,o.pipe(function Aj(t={}){const{connector:e=(()=>new Vn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return gt((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Tg(p,i))}),w.subscribe(m),!o&&c>0&&(o=new ou({next:E=>w.next(E),error:E=>{d=!0,h(),a=Tg(f,n,E),w.error(E)},complete:()=>{l=!0,h(),a=Tg(f,r),w.complete()}}),Yn(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof UA;if(!this._injector.get(sh).done)throw!i&&function yo(t){const e=De(t)||Zt(t)||en(t);return null!==e&&e.standalone}(n),new N(405,false);let o;o=i?n:this._injector.get(Nu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function kW(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Es),c=o.create(Mn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(dk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),ch(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ch(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ok,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ch(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(U(He),U(xi),U(Lo))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ch(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Dk=!0,o_=(()=>{class t{}return t.__NG_ELEMENT_ID__=FW,t})();function FW(t){return function VW(t,e,n){if(id(t)&&!n){const r=Sn(t.index,e);return new Lu(r,r)}return 47&t.type?new Lu(e[16],e):null}(vt(),D(),16==(16&t))}class Ak{constructor(){}supports(e){return Vu(e)}create(e){return new GW(e)}}const HW=(t,e)=>e;class GW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||HW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Mk(r,i,s)?n:r,a=Mk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Vu(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function gz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new zW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new xk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class xk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new qW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Rk(){return new hh([new Ak])}let hh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Rk()),deps:[[t,new Cu,new rn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new N(901,!1)}}return t.\u0275prov=J({token:t,providedIn:"root",factory:Rk}),t})();const JW=gk(null,"core",[]);let XW=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(U(uh))},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({}),t})();function na(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let fh=null;function Pi(){return fh}const gn=new $("DocumentToken");let d_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return function n6(){return U(Nk)}()},providedIn:"platform"}),t})();const r6=new $("Location Initialized");let Nk=(()=>{class t extends d_{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(n){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Ok()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Ok()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(U(gn))},t.\u0275prov=J({token:t,factory:function(){return function i6(){return new Nk(U(gn))}()},providedIn:"platform"}),t})();function Ok(){return!!window.history.pushState}function h_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Lk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ri(t){return t&&"?"!==t[0]?"?"+t:t}let Ts=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return Ke(Vk)},providedIn:"root"}),t})();const Fk=new $("appBaseHref");let Vk=(()=>{class t extends Ts{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ke(gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return h_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ri(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ri(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(d_),U(Fk,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s6=(()=>{class t extends Ts{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=h_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ri(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ri(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(d_),U(Fk,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),f_=(()=>{class t{constructor(n){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=Lk(Uk(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ri(r))}normalize(n){return t.stripTrailingSlash(function a6(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Uk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ri,t.joinWithSlash=h_,t.stripTrailingSlash=Lk,t.\u0275fac=function(n){return new(n||t)(U(Ts))},t.\u0275prov=J({token:t,factory:function(){return function o6(){return new f_(U(Ts))}()},providedIn:"root"}),t})();function Uk(t){return t.replace(/\/index.html$/,"")}class W6{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dh=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new W6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Yk(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Yk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(P(or),P(ti),P(hh))},t.\u0275dir=$t({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Yk(t,e){t.context.$implicit=e.item}let Th=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Q6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Jk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Jk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(P(or),P(ti))},t.\u0275dir=$t({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Q6{constructor(){this.$implicit=null,this.ngIf=null}}function Jk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Se(e)}'.`)}let E5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({}),t})();let b5=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new S5(U(gn),window)}),t})();class S5{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function A5(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=tR(this.window.history)||tR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function tR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class x_ extends class n9 extends class t6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function e6(t){fh||(fh=t)}(new x_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function r9(){return tc=tc||document.querySelector("base"),tc?tc.getAttribute("href"):null}();return null==n?null:function i9(t){Sh=Sh||document.createElement("a"),Sh.setAttribute("href",t);const e=Sh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function G6(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Sh,tc=null;const oR=new $("TRANSITION_ID"),o9=[{provide:ih,useFactory:function s9(t,e,n){return()=>{n.get(sh).donePromise.then(()=>{const r=Pi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[oR,gn,Mn],multi:!0}];let u9=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const Ah=new $("EventManagerPlugins");let xh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(U(Ah),U(He))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class aR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Pi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let uR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),nc=(()=>{class t extends uR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(cR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(cR))}}return t.\u0275fac=function(n){return new(n||t)(U(gn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function cR(t){Pi().remove(t)}const M_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k_=/%COMP%/g;function Mh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Mh(t,i,n):(i=i.replace(k_,t),n.push(i))}return n}function hR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let R_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new P_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case _r.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new p9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case _r.ShadowDom:return new g9(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Mh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(U(xh),U(nc),U(Yu))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class P_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(M_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(pR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=M_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=M_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(pn.DashCase|pn.Important)?e.style.setProperty(n,r,i&pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,hR(r)):this.eventManager.addEventListener(e,n,hR(r))}}function pR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class p9 extends P_{constructor(e,n,r,i){super(e),this.component=r;const s=Mh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function d9(t){return"_ngcontent-%COMP%".replace(k_,t)}(i+"-"+r.id),this.hostAttr=function h9(t){return"_nghost-%COMP%".replace(k_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class g9 extends P_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Mh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let m9=(()=>{class t extends aR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(U(gn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const gR=["alt","control","meta","shift"],y9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let v9=(()=>{class t extends aR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),gR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=y9[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),gR.forEach(o=>{o!==i&&(0,_9[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(U(gn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const yR=[{provide:oh,useValue:"browser"},{provide:sk,useValue:function w9(){x_.makeCurrent()},multi:!0},{provide:gn,useFactory:function E9(){return function K4(t){Mm=t}(document),document},deps:[]}],D9=gk(JW,"browser",yR),_R=new $(""),vR=[{provide:ah,useClass:class a9{addToWindow(e){Ae.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Pi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:dk,useClass:t_,deps:[He,n_,ah]},{provide:t_,useClass:t_,deps:[He,n_,ah]}],wR=[{provide:Um,useValue:"root"},{provide:Lo,useFactory:function I9(){return new Lo},deps:[]},{provide:Ah,useClass:m9,multi:!0,deps:[gn,He,oh]},{provide:Ah,useClass:v9,multi:!0,deps:[gn]},{provide:R_,useClass:R_,deps:[xh,nc,Yu]},{provide:jA,useExisting:R_},{provide:uR,useExisting:nc},{provide:nc,useClass:nc,deps:[gn]},{provide:xh,useClass:xh,deps:[Ah,He]},{provide:class x5{},useClass:u9,deps:[]},[]];let T9=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Yu,useValue:n.appId},{provide:oR,useExisting:Yu},o9]}}}return t.\u0275fac=function(n){return new(n||t)(U(_R,12))},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({providers:[...wR,...vR],imports:[E5,XW]}),t})(),IR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(U(gn))},t.\u0275prov=J({token:t,factory:function(n){let r=null;return r=n?new n:function b9(){return new IR(U(gn))}(),r},providedIn:"root"}),t})();function TR(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){TR(s,r,i,o,a,"next",u)}function a(u){TR(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const CR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new F9;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kh=function(t){return function(t){const e=CR(t);return F_.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Rh=function(t){try{return F_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Ph=()=>{try{return function B9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},SR=()=>{var t;return null===(t=Ph())||void 0===t?void 0:t.config};class Nh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Pn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function V_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Cs(){try{return"object"==typeof indexedDB}catch{return!1}}function rc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function U_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xr.prototype.create)}}class xr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function X9(t,e){return t.replace(Z9,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new lr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Z9=/\{\$([^}]+)}/g;function B_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xR(s)&&xR(o)){if(!B_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xR(t){return null!==t&&"object"==typeof t}function MR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class t7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function n7(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=j_),void 0===i.error&&(i.error=j_),void 0===i.complete&&(i.complete=j_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j_(){}function H_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function dr(t){return t&&t._delegate?t._delegate:t}class Wt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bs="[DEFAULT]";class u7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function l7(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===bs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class d7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const G_=[];var de=(()=>{return(t=de||(de={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",de;var t})();const kR={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},h7=de.INFO,f7={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},p7=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=f7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ra{constructor(e){this.name=e,this._logLevel=h7,this._logHandler=p7,this._userLogHandler=null,G_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?kR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}let RR,PR;const NR=new WeakMap,z_=new WeakMap,OR=new WeakMap,q_=new WeakMap,W_=new WeakMap;let K_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return z_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||OR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function E7(t){return"function"==typeof t?function I7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function y7(){return PR||(PR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Q_(this),e),Oi(NR.get(this))}:function(...e){return Oi(t.apply(Q_(this),e))}:function(e,...n){const r=t.call(Q_(this),e,...n);return OR.set(r,e.sort?e.sort():[e]),Oi(r)}}(t):(t instanceof IDBTransaction&&function v7(t){if(z_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});z_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function m7(){return RR||(RR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,K_):t)}function Oi(t){if(t instanceof IDBRequest)return function _7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NR.set(n,t)}).catch(()=>{}),W_.set(e,t),e}(t);if(q_.has(t))return q_.get(t);const e=E7(t);return e!==t&&(q_.set(t,e),W_.set(e,t)),e}const Q_=t=>W_.get(t),T7=["get","getKey","getAll","getAllKeys","count"],C7=["put","add","delete","clear"],Y_=new Map;function LR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Y_.get(e))return Y_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=C7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!T7.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Y_.set(e,s),s}!function w7(t){K_=t(K_)}(t=>({...t,get:(e,n,r)=>LR(e,n)||t.get(e,n,r),has:(e,n)=>!!LR(e,n)||t.has(e,n)}));class b7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function S7(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const J_="@firebase/app",Ss=new ra("@firebase/app"),Lh="[DEFAULT]",Z7={[J_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},As=new Map,Fh=new Map;function e8(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function un(t){const e=t.name;if(Fh.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;Fh.set(e,t);for(const n of As.values())e8(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const si=new xr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class n8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}const ic="9.23.0";function VR(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Lh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=SR()),!n)throw si.create("no-options");const s=As.get(i);if(s){if(B_(n,s.options)&&B_(r,s.config))return s;throw si.create("duplicate-app",{appName:i})}const o=new d7(i);for(const u of Fh.values())o.addComponent(u);const a=new n8(n,r,o);return As.set(i,a),a}function UR(t=Lh){const e=As.get(t);if(!e&&t===Lh&&SR())return VR();if(!e)throw si.create("no-app",{appName:t});return e}function BR(){return Array.from(As.values())}function nt(t,e,n){var r;let i=null!==(r=Z7[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ss.warn(a.join(" "))}un(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const sc="firebase-heartbeat-store";let qR,WR,Z_=null;function jR(){return Z_||(Z_=function D7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Oi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Oi(o.result),u.oldVersion,u.newVersion,Oi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(sc)}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Z_}function ev(){return(ev=y(function*(t){try{return yield(yield jR()).transaction(sc).objectStore(sc).get(HR(t))}catch(e){if(e instanceof lr)Ss.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(n.message)}}})).apply(this,arguments)}function $R(t,e){return tv.apply(this,arguments)}function tv(){return(tv=y(function*(t,e){try{const r=(yield jR()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,HR(t)),yield r.done}catch(n){if(n instanceof lr)Ss.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n?.message});Ss.warn(r.message)}}})).apply(this,arguments)}function HR(t){return`${t.name}!${t.options.appId}`}class u8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=GR(),{heartbeatsToSend:r,unsentEntries:i}=function c8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=kh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function GR(){return(new Date).toISOString().substring(0,10)}class l8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!Cs()&&rc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function s8(t){return ev.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $R(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $R(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function zR(t){return kh(JSON.stringify({version:2,heartbeats:t})).length}!function d8(t){un(new Wt("platform-logger",e=>new b7(e),"PRIVATE")),un(new Wt("heartbeat",e=>new u8(e),"PRIVATE")),nt(J_,"0.9.13",t),nt(J_,"0.9.13","esm2017"),nt("fire-js","")}(""),nt("firebase","9.23.0","app");const KR=new WeakMap,nv=new WeakMap,QR=new WeakMap,rv=new WeakMap,iv=new WeakMap;let sv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||QR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function I8(t){return"function"==typeof t?function w8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function m8(){return WR||(WR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ov(this),e),Li(KR.get(this))}:function(...e){return Li(t.apply(ov(this),e))}:function(e,...n){const r=t.call(ov(this),e,...n);return QR.set(r,e.sort?e.sort():[e]),Li(r)}}(t):(t instanceof IDBTransaction&&function _8(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function g8(){return qR||(qR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sv):t)}function Li(t){if(t instanceof IDBRequest)return function y8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KR.set(n,t)}).catch(()=>{}),iv.set(e,t),e}(t);if(rv.has(t))return rv.get(t);const e=I8(t);return e!==t&&(rv.set(t,e),iv.set(e,t)),e}const ov=t=>iv.get(t),D8=["get","getKey","getAll","getAllKeys","count"],T8=["put","add","delete","clear"],av=new Map;function YR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(av.get(e))return av.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!D8.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return av.set(e,s),s}!function v8(t){sv=t(sv)}(t=>({...t,get:(e,n,r)=>YR(e,n)||t.get(e,n,r),has:(e,n)=>!!YR(e,n)||t.has(e,n)}));const JR="@firebase/installations",ZR="w:0.6.4",eP="FIS_v2",oi=new xr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tP(t){return t instanceof lr&&t.code.includes("request-failed")}function cv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function nP(t){return{token:t.token,requestStatus:2,expiresIn:M8(t.expiresIn),creationTime:Date.now()}}function lv(t,e){return dv.apply(this,arguments)}function dv(){return(dv=y(function*(t,e){const r=(yield e.json()).error;return oi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function rP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iP(t,{refreshToken:e}){const n=rP(t);return n.append("Authorization",function k8(t){return`${eP} ${t}`}(e)),n}function hv(t){return fv.apply(this,arguments)}function fv(){return(fv=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function M8(t){return Number(t.replace("s","000"))}function R8(t,e){return pv.apply(this,arguments)}function pv(){return(pv=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=cv(t),i=rP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:eP,appId:t.appId,sdkVersion:ZR})},u=yield hv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:nP(c.authToken)}}throw yield lv("Create Installation",u)})).apply(this,arguments)}function sP(t){return new Promise(e=>{setTimeout(e,t)})}const N8=/^[cdef][\w-]{21}$/;function O8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function L8(t){return function P8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return N8.test(n)?n:""}catch{return""}}function ia(t){return`${t.appName}!${t.appId}`}const sa=new Map;function oP(t,e){const n=ia(t);aP(n,e),function U8(t,e){const n=function uP(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=t=>{aP(t.data.key,t.data.fid)}),xs}();n&&n.postMessage({key:t,fid:e}),function cP(){0===sa.size&&xs&&(xs.close(),xs=null)}()}(n,e)}function aP(t,e){const n=sa.get(t);if(n)for(const r of n)r(e)}let xs=null;const Ms="firebase-installations-store";let mv=null;function yv(){return mv||(mv=function E8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Li(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Li(o.result),u.oldVersion,u.newVersion,Li(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ms)}})),mv}function Uh(t,e){return _v.apply(this,arguments)}function _v(){return(_v=y(function*(t,e){const n=ia(t),i=(yield yv()).transaction(Ms,"readwrite"),s=i.objectStore(Ms),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&oP(t,e.fid),e})).apply(this,arguments)}function vv(t){return wv.apply(this,arguments)}function wv(){return(wv=y(function*(t){const e=ia(t),r=(yield yv()).transaction(Ms,"readwrite");yield r.objectStore(Ms).delete(e),yield r.done})).apply(this,arguments)}function oc(t,e){return Iv.apply(this,arguments)}function Iv(){return(Iv=y(function*(t,e){const n=ia(t),i=(yield yv()).transaction(Ms,"readwrite"),s=i.objectStore(Ms),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&oP(t,a.fid),a})).apply(this,arguments)}function Ev(t){return Dv.apply(this,arguments)}function Dv(){return(Dv=y(function*(t){let e;const n=yield oc(t.appConfig,r=>{const i=$8(r),s=H8(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function $8(t){return dP(t||{fid:O8(),registrationStatus:0})}function H8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(oi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function G8(t,e){return Tv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:z8(t)}:{installationEntry:e}}function Tv(){return(Tv=y(function*(t,e){try{const n=yield R8(t,e);return Uh(t.appConfig,n)}catch(n){throw tP(n)&&409===n.customData.serverCode?yield vv(t.appConfig):yield Uh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function z8(t){return Cv.apply(this,arguments)}function Cv(){return(Cv=y(function*(t){let e=yield lP(t.appConfig);for(;1===e.registrationStatus;)yield sP(100),e=yield lP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Ev(t);return r||n}return e})).apply(this,arguments)}function lP(t){return oc(t,e=>{if(!e)throw oi.create("installation-not-found");return dP(e)})}function dP(t){return function q8(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function W8(t,e){return bv.apply(this,arguments)}function bv(){return(bv=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=K8(t,n),i=iP(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:ZR,appId:t.appId}})},u=yield hv(()=>fetch(r,a));if(u.ok)return nP(yield u.json());throw yield lv("Generate Auth Token",u)})).apply(this,arguments)}function K8(t,{fid:e}){return`${cv(t)}/${e}/authTokens:generate`}function Sv(t){return Av.apply(this,arguments)}function Av(){return(Av=y(function*(t,e=!1){let n;const r=yield oc(t.appConfig,s=>{if(!fP(s))throw oi.create("not-registered");const o=s.authToken;if(!e&&J8(o))return s;if(1===o.requestStatus)return n=Q8(t,e),s;{if(!navigator.onLine)throw oi.create("app-offline");const a=Z8(s);return n=Y8(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function Q8(t,e){return xv.apply(this,arguments)}function xv(){return(xv=y(function*(t,e){let n=yield hP(t.appConfig);for(;1===n.authToken.requestStatus;)yield sP(100),n=yield hP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Sv(t,e):r})).apply(this,arguments)}function hP(t){return oc(t,e=>{if(!fP(e))throw oi.create("not-registered");return function eK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Y8(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=y(function*(t,e){try{const n=yield W8(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Uh(t.appConfig,r),n}catch(n){if(!tP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Uh(t.appConfig,r)}else yield vv(t.appConfig);throw n}})).apply(this,arguments)}function fP(t){return void 0!==t&&2===t.registrationStatus}function J8(t){return 2===t.requestStatus&&!function X8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function Z8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function kv(){return(kv=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Ev(e);return r?r.catch(console.error):Sv(e).catch(console.error),n.fid})).apply(this,arguments)}function Rv(){return(Rv=y(function*(t,e=!1){const n=t;return yield rK(n),(yield Sv(n,e)).token})).apply(this,arguments)}function rK(t){return Pv.apply(this,arguments)}function Pv(){return(Pv=y(function*(t){const{registrationPromise:e}=yield Ev(t);e&&(yield e)})).apply(this,arguments)}function Lv(t){return oi.create("missing-app-config-values",{valueName:t})}const pP="installations",uK=t=>{const e=t.getProvider("app").getImmediate(),n=function oK(t){if(!t||!t.options)throw Lv("App Configuration");if(!t.name)throw Lv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Lv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Vh(e,"heartbeat"),_delete:()=>Promise.resolve()}},cK=t=>{const n=Vh(t.getProvider("app").getImmediate(),pP).getImmediate();return{getId:()=>function tK(t){return kv.apply(this,arguments)}(n),getToken:i=>function nK(t){return Rv.apply(this,arguments)}(n,i)}};(function lK(){un(new Wt(pP,uK,"PUBLIC")),un(new Wt("installations-internal",cK,"PRIVATE"))})(),nt(JR,"0.6.4"),nt(JR,"0.6.4","esm2017");const Fv="@firebase/remote-config",yn=new xr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class IK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function EK(t=navigator){return t.languages&&t.languages[0]||t.language}class DK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:EK()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,E)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",E(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let E="fetch-client-network";throw"AbortError"===w?.name&&(E="fetch-timeout"),yn.create(E,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let w;try{w=yield h.json()}catch(E){throw yn.create("fetch-client-parse",{originalErrorMessage:E?.message})}g=w.entries,m=w.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw yn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class bK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function TK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function CK(t){if(!(t instanceof lr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+H_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class xK{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function jh(t,e){const n=t.target.error||void 0;return yn.create(e,{originalErrorMessage:n&&n?.message})}const ks="app_namespace_store";class PK{constructor(e,n,r,i=function RK(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(jh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ks,{keyPath:"compositeKey"})}}catch(n){e(yn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ks],"readonly").objectStore(ks),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(jh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(yn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ks],"readwrite").objectStore(ks),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(jh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(yn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ks],"readwrite").objectStore(ks),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(jh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(yn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class NK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function LK(){return $v.apply(this,arguments)}function $v(){return($v=y(function*(){if(!Cs())return!1;try{return yield rc()}catch{return!1}})).apply(this,arguments)}let _P,vP;!function OK(){un(new Wt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yn.create("registration-window");if(!Cs())throw yn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw yn.create("registration-project-id");if(!o)throw yn.create("registration-api-key");if(!a)throw yn.create("registration-app-id");const u=new PK(a,r.name,n=n||"firebase"),c=new NK(u),l=new ra(Fv);l.logLevel=de.ERROR;const d=new DK(i,ic,n,s,o,a),h=new bK(d,u),f=new IK(h,u,c,l),p=new xK(r,f,c,u,l);return function _K(t){const e=dr(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),nt(Fv,"0.4.4"),nt(Fv,"0.4.4","esm2017")}();const wP=new WeakMap,Hv=new WeakMap,IP=new WeakMap,Gv=new WeakMap,zv=new WeakMap;let qv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Hv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||IP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function GK(t){return"function"==typeof t?function HK(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function UK(){return vP||(vP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Wv(this),e),ai(wP.get(this))}:function(...e){return ai(t.apply(Wv(this),e))}:function(e,...n){const r=t.call(Wv(this),e,...n);return IP.set(r,e.sort?e.sort():[e]),ai(r)}}(t):(t instanceof IDBTransaction&&function jK(t){if(Hv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function VK(){return _P||(_P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qv):t)}function ai(t){if(t instanceof IDBRequest)return function BK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wP.set(n,t)}).catch(()=>{}),zv.set(e,t),e}(t);if(Gv.has(t))return Gv.get(t);const e=GK(t);return e!==t&&(Gv.set(t,e),zv.set(e,t)),e}const Wv=t=>zv.get(t);function EP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ai(o.result),u.oldVersion,u.newVersion,ai(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Kv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ai(n).then(()=>{})}const zK=["get","getKey","getAll","getAllKeys","count"],qK=["put","add","delete","clear"],Qv=new Map;function DP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Qv.get(e))return Qv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zK.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Qv.set(e,s),s}!function $K(t){qv=t(qv)}(t=>({...t,get:(e,n,r)=>DP(e,n)||t.get(e,n,r),has:(e,n)=>!!DP(e,n)||t.has(e,n)}));const WK="/firebase-messaging-sw.js",KK="/firebase-cloud-messaging-push-scope",TP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",CP="google.c.a.c_id",YK="google.c.a.c_l",JK="google.c.a.ts",XK="google.c.a.e";var oa=(()=>{return(t=oa||(oa={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",oa;var t})();function ui(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ZK(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Yv="fcm_token_details_db",bP="fcm_token_object_Store";function tQ(t){return Jv.apply(this,arguments)}function Jv(){return Jv=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Yv))return null;let e=null;return(yield EP(Yv,5,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(bP))return;const c=a.objectStore(bP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ui(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ui(d.auth),p256dh:ui(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ui(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ui(d.auth),p256dh:ui(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ui(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Kv(Yv),yield Kv("fcm_vapid_details_db"),yield Kv("undefined"),nQ(e)?e:null;var r}),Jv.apply(this,arguments)}function nQ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Rs="firebase-messaging-store";let Xv=null;function Zv(){return Xv||(Xv=EP("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rs)}})),Xv}function SP(t){return ew.apply(this,arguments)}function ew(){return(ew=y(function*(t){const e=iw(t),r=yield(yield Zv()).transaction(Rs).objectStore(Rs).get(e);if(r)return r;{const i=yield tQ(t.appConfig.senderId);if(i)return yield tw(t,i),i}})).apply(this,arguments)}function tw(t,e){return nw.apply(this,arguments)}function nw(){return(nw=y(function*(t,e){const n=iw(t),i=(yield Zv()).transaction(Rs,"readwrite");return yield i.objectStore(Rs).put(e,n),yield i.done,e})).apply(this,arguments)}function sQ(t){return rw.apply(this,arguments)}function rw(){return(rw=y(function*(t){const e=iw(t),r=(yield Zv()).transaction(Rs,"readwrite");yield r.objectStore(Rs).delete(e),yield r.done})).apply(this,arguments)}function iw({appConfig:t}){return t.appId}const Pt=new xr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aQ(t,e){return sw.apply(this,arguments)}function sw(){return(sw=y(function*(t,e){const n=yield cw(t),r=xP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(uw(t.appConfig),i)).json()}catch(o){throw Pt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Pt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Pt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function uQ(t,e){return ow.apply(this,arguments)}function ow(){return(ow=y(function*(t,e){const n=yield cw(t),r=xP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${uw(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Pt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Pt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Pt.create("token-update-no-token");return s.token})).apply(this,arguments)}function AP(t,e){return aw.apply(this,arguments)}function aw(){return(aw=y(function*(t,e){const r={method:"DELETE",headers:yield cw(t)};try{const s=yield(yield fetch(`${uw(t.appConfig)}/${e}`,r)).json();if(s.error)throw Pt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Pt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function uw({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function cw(t){return lw.apply(this,arguments)}function lw(){return(lw=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function xP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==TP&&(i.web.applicationPubKey=r),i}const cQ=6048e5;function lQ(t){return dw.apply(this,arguments)}function dw(){return(dw=y(function*(t){const e=yield hQ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ui(e.getKey("auth")),p256dh:ui(e.getKey("p256dh"))},r=yield SP(t.firebaseDependencies);if(r){if(fQ(r.subscriptionOptions,n))return Date.now()>=r.createTime+cQ?dQ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield AP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kP(t.firebaseDependencies,n)}return kP(t.firebaseDependencies,n)})).apply(this,arguments)}function MP(t){return hw.apply(this,arguments)}function hw(){return(hw=y(function*(t){const e=yield SP(t.firebaseDependencies);e&&(yield AP(t.firebaseDependencies,e.token),yield sQ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function dQ(t,e){return fw.apply(this,arguments)}function fw(){return(fw=y(function*(t,e){try{const n=yield uQ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield tw(t.firebaseDependencies,r),n}catch(n){throw yield MP(t),n}})).apply(this,arguments)}function kP(t,e){return pw.apply(this,arguments)}function pw(){return(pw=y(function*(t,e){const r={token:yield aQ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield tw(t,r),r.token})).apply(this,arguments)}function hQ(t,e){return gw.apply(this,arguments)}function gw(){return(gw=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ZK(e)})})).apply(this,arguments)}function fQ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function RP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function pQ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function gQ(t,e){!e.data||(t.data=e.data)}(e,t),function mQ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function yQ(t){return"object"==typeof t&&!!t&&CP in t}function PP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mw(t){return Pt.create("missing-app-config-values",{valueName:t})}PP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),PP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vQ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function _Q(t){if(!t||!t.options)throw mw("App Configuration Object");if(!t.name)throw mw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function NP(t){return yw.apply(this,arguments)}function yw(){return(yw=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(WK,{scope:KK}),t.swRegistration.update().catch(()=>{})}catch(e){throw Pt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function wQ(t,e){return _w.apply(this,arguments)}function _w(){return(_w=y(function*(t,e){if(!e&&!t.swRegistration&&(yield NP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Pt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function IQ(t,e){return vw.apply(this,arguments)}function vw(){return(vw=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=TP)})).apply(this,arguments)}function ww(){return(ww=y(function*(t,e){if(!navigator)throw Pt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pt.create("permission-blocked");return yield IQ(t,e?.vapidKey),yield wQ(t,e?.serviceWorkerRegistration),lQ(t)})).apply(this,arguments)}function EQ(t,e,n){return Iw.apply(this,arguments)}function Iw(){return(Iw=y(function*(t,e,n){const r=DQ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[CP],message_name:n[YK],message_time:n[JK],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function DQ(t){switch(t){case oa.NOTIFICATION_CLICKED:return"notification_open";case oa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ew(){return(Ew=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===oa.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(RP(n)):t.onMessageHandler.next(RP(n)));const r=n.data;yQ(r)&&"1"===r[XK]&&(yield EQ(t,n.messageType,r))})).apply(this,arguments)}const LP="@firebase/messaging",CQ=t=>{const e=new vQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function TQ(t,e){return Ew.apply(this,arguments)}(e,n)),e},bQ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function OP(t,e){return ww.apply(this,arguments)}(e,r)}};function VP(){return Dw.apply(this,arguments)}function Dw(){return(Dw=y(function*(){try{yield rc()}catch{return!1}return typeof window<"u"&&Cs()&&U_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function SQ(){un(new Wt("messaging",CQ,"PUBLIC")),un(new Wt("messaging-internal",bQ,"PRIVATE")),nt(LP,"0.12.4"),nt(LP,"0.12.4","esm2017")}();const $h="analytics",MQ="firebase_id",PQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bw="https://www.googletagmanager.com/gtag/js",bt=new ra("@firebase/analytics"),cn=new xr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function OQ(t){if(!t.startsWith(bw)){const e=cn.create("invalid-gtag-resource",{gtagURL:t});return bt.warn(e.message),""}return t}function UP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function FQ(t,e){const n=function LQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:OQ}),r=document.createElement("script"),i=`${bw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function UQ(t,e,n,r,i,s){return Sw.apply(this,arguments)}function Sw(){return(Sw=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield UP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){bt.error(a)}t("config",i,s)})).apply(this,arguments)}function BQ(t,e,n,r,i){return Aw.apply(this,arguments)}function Aw(){return(Aw=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield UP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){bt.error(s)}})).apply(this,arguments)}function HQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bw)&&n.src.includes(t))return n;return null}const BP=new class qQ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function WQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function KQ(t){return xw.apply(this,arguments)}function xw(){return(xw=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:WQ(r)},s=PQ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function QQ(t){return Mw.apply(this,arguments)}function Mw(){return(Mw=y(function*(t,e=BP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw cn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw cn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new XQ;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:6e4),jP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function jP(t,e,n){return kw.apply(this,arguments)}function kw(){return(kw=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=BP){var s;const{appId:o,measurementId:a}=t;try{yield YQ(r,e)}catch(u){if(a)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield KQ(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!JQ(c)){if(i.deleteThrottleMetadata(o),a)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?H_(n,i.intervalMillis,30):H_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),bt.debug(`Calling attemptFetch again in ${l} millis`),jP(t,d,r,i)}})).apply(this,arguments)}function YQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function JQ(t){if(!(t instanceof lr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class XQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Rw,Uw;function Pw(){return(Pw=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $P(t){Uw=t}function HP(t){Rw=t}function sY(){return Bw.apply(this,arguments)}function Bw(){return(Bw=y(function*(){if(!Cs())return bt.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield rc()}catch(t){return bt.warn(cn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function jw(){return(jw=y(function*(t,e,n,r,i,s,o){var a;const u=QQ(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>bt.error(f)),e.push(u);const c=sY().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);HQ(s)||FQ(s,l.measurementId),Uw&&(i("consent","default",Uw),$P(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[MQ]=d),i("config",l.measurementId,h),Rw&&(i("set",Rw),HP(void 0)),l.measurementId})).apply(this,arguments)}class aY{constructor(e){this.app=e}_delete(){return delete Mr[this.app.options.appId],Promise.resolve()}}let Mr={},GP=[];const zP={};let WP,kr,Hh="dataLayer",$w=!1;function cY(t,e,n){!function uY(){const t=[];if(V_()&&t.push("This is a browser extension environment."),U_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=cn.create("invalid-analytics-context",{errorInfo:e});bt.warn(n.message)}}();const r=t.options.appId;if(!r)throw cn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw cn.create("no-api-key");bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mr[r])throw cn.create("already-exists",{id:r});if(!$w){!function VQ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Hh);const{wrappedGtag:s,gtagCore:o}=function $Q(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function jQ(t,e,n,r){function s(){return(s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield BQ(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield UQ(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){bt.error(u)}})).apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Mr,GP,zP,Hh,"gtag");kr=s,WP=o,$w=!0}return Mr[r]=function oY(t,e,n,r,i,s,o){return jw.apply(this,arguments)}(t,GP,zP,e,WP,Hh,n),new aY(t)}function dY(){return Hw.apply(this,arguments)}function Hw(){return(Hw=y(function*(){if(V_()||!U_()||!Cs())return!1;try{return yield rc()}catch{return!1}})).apply(this,arguments)}const KP="@firebase/analytics";!function fY(){un(new Wt($h,(e,{options:n})=>cY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),un(new Wt("analytics-internal",function t(e){try{const n=e.getProvider($h).getImmediate();return{logEvent:(r,i,s)=>function hY(t,e,n,r){t=dr(t),function ZQ(t,e,n,r,i){return Pw.apply(this,arguments)}(kr,Mr[t.app.options.appId],e,n,r).catch(i=>bt.error(i))}(n,r,i,s)}}catch(n){throw cn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),nt(KP,"0.10.0"),nt(KP,"0.10.0","esm2017")}();class pY extends In{constructor(e,n){super()}schedule(e,n=0){return this}}const Gh={setInterval(t,e,...n){const{delegate:r}=Gh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Gh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class YP extends pY{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Gh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Gh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,po(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const zw={now:()=>(zw.delegate||Date).now(),delegate:void 0};class ac{constructor(e,n=ac.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ac.now=zw.now;class JP extends ac{constructor(e,n=ac.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const yY=new class mY extends JP{}(class gY extends YP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),XP=new JP(YP);function Nt(t,e,n){const r=ye(t)||e||n?{next:t,error:e,complete:n}:t;return r?gt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(mt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ls}const qw=new Ou("7.6.1"),Ww="__angularfire_symbol__analyticsIsSupportedValue",Kw="__angularfire_symbol__analyticsIsSupported",Qw="__angularfire_symbol__remoteConfigIsSupportedValue",Yw="__angularfire_symbol__remoteConfigIsSupported",Jw="__angularfire_symbol__messagingIsSupportedValue",Xw="__angularfire_symbol__messagingIsSupported";globalThis[Kw]||(globalThis[Kw]=dY().then(t=>globalThis[Ww]=t).catch(()=>globalThis[Ww]=!1)),globalThis[Xw]||(globalThis[Xw]=VP().then(t=>globalThis[Jw]=t).catch(()=>globalThis[Jw]=!1)),globalThis[Yw]||(globalThis[Yw]=LK().then(t=>globalThis[Qw]=t).catch(()=>globalThis[Qw]=!1));const tI=(t,e)=>{const n=e?[e]:BR(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function aa(){}class ZP{constructor(e,n=yY){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class _Y{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa)),n.pipe(Nt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eN=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ZP(Zone.current)),this.insideAngular=n.run(()=>new ZP(Zone.current,XP)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(He))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ps(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function vY(t){return Ps().ngZone.runOutsideAngular(()=>t())}function Ns(t){return Ps().ngZone.run(()=>t())}function wY(t){return Ps(),function IY(t){return function(n){return(n=n.lift(new _Y(t.ngZone))).pipe(Ql(t.outsideAngular),Kl(t.insideAngular))}}(Ps())(t)}const EY=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ns(()=>t.apply(void 0,r))},ua=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa)))),r[s]=EY(r[s],n));const i=vY(()=>t.apply(this,r));if(!e){if(i instanceof Ue){const s=Ps();return i.pipe(Ql(s.outsideAngular),Kl(s.insideAngular))}return Ns(()=>i)}return i instanceof Ue?i.pipe(wY):i instanceof Promise?Ns(()=>new Promise((s,o)=>i.then(a=>Ns(()=>s(a)),a=>Ns(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ns(()=>i)};class ca{constructor(e){return e}}class tN{constructor(){return BR()}}const nI=new $("angularfire2._apps"),TY={provide:ca,useFactory:function DY(t){return t&&1===t.length?t[0]:new ca(UR())},deps:[[new rn,nI]]},CY={provide:tN,deps:[[new rn,nI]]};function bY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ca(r)}}let SY=(()=>{class t{constructor(n){nt("angularfire",qw.full,"core"),nt("angularfire",qw.full,"app"),nt("angular",$A.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(oh))},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({providers:[TY,CY]}),t})();function AY(t,...e){return{ngModule:SY,providers:[{provide:nI,useFactory:bY(t),multi:!0,deps:[He,Mn,eN,...e]}]}}const xY=ua(VR,!0);const MY=function nN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rN=new xr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zh=new ra("@firebase/auth");function qh(t,...e){zh.logLevel<=de.ERROR&&zh.error(`Auth (${ic}): ${t}`,...e)}function _n(t,...e){throw rI(t,...e)}function Rr(t,...e){return rI(t,...e)}function iN(t,e,n){const r=Object.assign(Object.assign({},MY()),{[e]:n});return new xr("auth","Firebase",r).create(e,{appName:t.name})}function rI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rN.create(t,...e)}function b(t,e,...n){if(!t)throw rI(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function Fi(t,e){t||Pr(e)}function sN(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=function K9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}()||function Y9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function RY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function iI(){return"http:"===sN()||"https:"===sN()}()||V_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class oN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},OY=new cc(3e4,6e4);function ze(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ye(t,e,n,r){return oI.apply(this,arguments)}function oI(){return(oI=y(function*(t,e,n,r,i={}){return aN(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=MR(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),oN.fetch()(uN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function aN(t,e,n){return aI.apply(this,arguments)}function aI(){return(aI=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NY),e);try{const i=new LY(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw lc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw lc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw lc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iN(t,l,c);_n(t,l)}}catch(i){if(i instanceof lr)throw i;_n(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function uN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function sI(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class LY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),OY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(t,e,r);return i.customData._tokenResponse=n,i}function cI(){return(cI=y(function*(t,e){return Ye(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function UY(t,e){return dI.apply(this,arguments)}function dI(){return(dI=y(function*(t,e){return Ye(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hI(){return(hI=y(function*(t,e=!1){const n=dr(t),r=yield n.getIdToken(e),i=Wh(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:dc(fI(i.auth_time)),issuedAtTime:dc(fI(i.iat)),expirationTime:dc(fI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function fI(t){return 1e3*Number(t)}function Wh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rh(n);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function li(t,e){return pI.apply(this,arguments)}function pI(){return(pI=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof lr&&$Y(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function $Y({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class HY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class cN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hc(t){return gI.apply(this,arguments)}function gI(){return(gI=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield li(t,UY(n,{idToken:r}));b(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?qY(s.providerUserInfo):[],a=zY(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function mI(){return(mI=y(function*(t){const e=dr(t);yield hc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function zY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qY(t){return t.map(e=>{var{providerId:n}=e,r=vg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yI(){return(yI=y(function*(t,e){const n=yield aN(t,{},y(function*(){const r=MR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(typeof e.idToken<"u","internal-error"),b(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function jY(t){const e=Wh(t);return b(e,"internal-error"),b(typeof e.exp<"u","internal-error"),b(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return b(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function WY(t,e){return yI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fc;return r&&(b("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(b("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(b("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return Pr("not implemented")}}function Vi(t,e){b("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Os{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield li(n,n.stsTokenManager.getToken(n.auth,e));return b(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function BY(t){return hI.apply(this,arguments)}(this,e)}reload(){return function GY(t){return mI.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield hc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield li(e,function FY(t,e){return cI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:x,isAnonymous:V,providerData:j,stsTokenManager:Ve}=n;b(_&&Ve,e,"internal-error");const Fn=fc.fromJSON(this.name,Ve);b("string"==typeof _,e,"internal-error"),Vi(d,e.name),Vi(h,e.name),b("boolean"==typeof x,e,"internal-error"),b("boolean"==typeof V,e,"internal-error"),Vi(f,e.name),Vi(p,e.name),Vi(g,e.name),Vi(m,e.name),Vi(w,e.name),Vi(E,e.name);const Hr=new Os({uid:_,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Fn,createdAt:w,lastLoginAt:E});return j&&Array.isArray(j)&&(Hr.providerData=j.map(Hl=>Object.assign({},Hl))),m&&(Hr._redirectEventId=m),Hr}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new fc;i.updateFromServerResponse(n);const s=new Os({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hc(s),s})()}}const lN=new Map;function di(t){Fi(t instanceof Function,"Expected a class definition");let e=lN.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lN.set(t,e),e)}const dN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Kh(t,e,n){return`firebase:${t}:${e}:${n}`}class da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Os._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new da(di(dN),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||di(dN);const o=Kh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Os._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new da(s,e,r)):new da(s,e,r)})()}}function hN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function gN(t=Pn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function fN(t=Pn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function yN(t=Pn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function _N(t=Pn()){return/webos/i.test(t)}(e))return"Webos";if(function _I(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function pN(t=Pn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function mN(t=Pn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function vN(t,e=[]){let n;switch(t){case"Browser":n=hN(Pn());break;case"Worker":n=`${hN(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ic}/${r}`}function wN(t,e){return wI.apply(this,arguments)}function wI(){return(wI=y(function*(t,e){return Ye(t,"GET","/v2/recaptchaConfig",ze(t,e))})).apply(this,arguments)}function EN(t){return void 0!==t&&void 0!==t.enterprise}class DN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class CN{constructor(e){this.type="recaptcha-enterprise",this.auth=St(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){wN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new DN(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;EN(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&EN(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function II(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function JY(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class tJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class nJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bN(this),this.idTokenSubscription=new bN(this),this.beforeStateQueue=new tJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield da.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return b(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield hc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function PY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?dr(e):null;return r&&b(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&b(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(di(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield wN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new DN(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new CN(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&di(e)||n._popupRedirectResolver;b(r,n,"argument-error"),n.redirectPersistenceManager=yield da.create(n,[di(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return b(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function kY(t,...e){zh.logLevel<=de.WARN&&zh.warn(`Auth (${ic}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function St(t){return dr(t)}class bN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function e7(t,e){const n=new t7(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function TN(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new cc(3e4,6e4),new cc(2e3,1e4),new cc(3e4,6e4),new cc(5e3,15e3),encodeURIComponent("fac");var tO="@firebase/auth";class KX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Ph(),function YX(t){un(new Wt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;b(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vN(t)},c=new nJ(r,i,s,u);return function iJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),un(new Wt("auth-internal",e=>{const n=St(e.getProvider("auth").getImmediate());return new KX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nt(tO,"0.23.2",function QX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),nt(tO,"0.23.2","esm2017")}("Browser");class sO{constructor(){return tI("auth")}}const cD=new Map,oO={activated:!1,tokenObservers:[]},rZ={initialized:!1,enabled:!1};function Je(t){return cD.get(t)||Object.assign({},oO)}function cf(){return rZ}class cZ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Nh,yield function lZ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Nh,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ot=new xr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dD(t){if(!Je(t).activated)throw Ot.create("use-before-activation",{appName:t.name})}function hf(t,e){return fD.apply(this,arguments)}function fD(){return fD=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ot.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ot.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ot.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ot.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),fD.apply(this,arguments)}function uO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const _c="firebase-app-check-store";let ff=null;function lO(){return ff||(ff=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ot.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_c,{keyPath:"compositeKey"})}}catch(n){e(Ot.create("storage-open",{originalErrorMessage:n?.message}))}}),ff)}function pD(){return pD=y(function*(t,e){const r=(yield lO()).transaction(_c,"readwrite"),s=r.objectStore(_c).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ot.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),pD.apply(this,arguments)}const vc=new ra("@firebase/app-check");function yD(t,e){return Cs()?function yZ(t,e){return function dO(t,e){return pD.apply(this,arguments)}(function fO(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{vc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vD(){return cf().enabled}function wD(){return ID.apply(this,arguments)}function ID(){return ID=y(function*(){const t=cf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ID.apply(this,arguments)}const DZ={error:"UNKNOWN_ERROR"};function TZ(t){return F_.encodeString(JSON.stringify(t),!1)}function pf(t){return ED.apply(this,arguments)}function ED(){return ED=y(function*(t,e=!1){const n=t.app;dD(n);const r=Je(n);let s,i=r.token;if(i&&!fa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(fa(u)?i=u:yield yD(n,void 0))}if(!e&&i&&fa(i))return{token:i.token};let a,o=!1;if(vD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hf(uO(n,yield wD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield yD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Je(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?vc.warn(u.message):vc.error(u),s=u}return i?s?a=fa(i)?{token:i.token,internalError:s}:yO(s):(a={token:i.token},r.token=i,yield yD(n,i)):a=yO(s),o&&mO(n,a),a}),ED.apply(this,arguments)}function DD(){return DD=y(function*(t){const e=t.app;dD(e);const{provider:n}=Je(e);if(vD()){const r=yield wD(),{token:i}=yield hf(uO(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),DD.apply(this,arguments)}function CD(t,e){const n=Je(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function gO(t){const{app:e}=t,n=Je(e);let r=n.tokenRefresher;r||(r=function CZ(t){const{app:e}=t;return new cZ(y(function*(){let r;if(r=Je(e).token?yield pf(t,!0):yield pf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Je(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function mO(t,e){const n=Je(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function fa(t){return t.expireTimeMillis-Date.now()>0}function yO(t){return{token:TZ(DZ),error:t}}class bZ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Je(this.app);for(const n of e)CD(this.app,n.next);return Promise.resolve()}}const CO="app-check-internal";!function BZ(){un(new Wt("app-check",t=>function SZ(t,e){return new bZ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(CO).initialize()})),un(new Wt(CO,t=>function AZ(t){return{getToken:e=>pf(t,e),getLimitedUseToken:()=>function pO(t){return DD.apply(this,arguments)}(t),addTokenListener:e=>function TD(t,e,n,r){const{app:i}=t,s=Je(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&fa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),gO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gO(t))}(t,"INTERNAL",e),removeTokenListener:e=>CD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),nt("@firebase/app-check","0.8.0")}();class SO{constructor(){return tI("app-check")}}typeof window<"u"&&window;var M,zZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={},MD=MD||{},Q=zZ||self;function mf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function wc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kD="closure_uid_"+(1e9*Math.random()>>>0),WZ=0;function KZ(t,e,n){return t.call.apply(t.bind,arguments)}function QZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,n){return(Kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KZ:QZ).apply(null,arguments)}function yf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bi(){this.s=this.s,this.o=this.o}Bi.prototype.s=!1,Bi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qZ(t){Object.prototype.hasOwnProperty.call(t,kD)&&t[kD]||(t[kD]=++WZ)}(this)},Bi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function RD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function xO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qt.prototype.h=function(){this.defaultPrevented=!0};var JZ=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return t}();function Ic(t){return/^[\s\xa0]*$/.test(t)}function _f(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Nr(t){return-1!=_f().indexOf(t)}function PD(t){return PD[" "](t),t}PD[" "]=function(){};var OD,ZZ=Nr("Opera"),pa=Nr("Trident")||Nr("MSIE"),MO=Nr("Edge"),ND=MO||pa,kO=Nr("Gecko")&&!(-1!=_f().toLowerCase().indexOf("webkit")&&!Nr("Edge"))&&!(Nr("Trident")||Nr("MSIE"))&&!Nr("Edge"),eee=-1!=_f().toLowerCase().indexOf("webkit")&&!Nr("Edge");function RO(){var t=Q.document;return t?t.documentMode:void 0}e:{var LD="",FD=function(){var t=_f();return kO?/rv:([^\);]+)(\)|;)/.exec(t):MO?/Edge\/([\d\.]+)/.exec(t):pa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):eee?/WebKit\/(\S+)/.exec(t):ZZ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(FD&&(LD=FD?FD[1]:""),pa){var VD=RO();if(null!=VD&&VD>parseFloat(LD)){OD=String(VD);break e}}OD=LD}var tee=Q.document&&pa&&(RO()||parseInt(OD,10))||void 0;function Ec(t,e){if(Qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kO){e:{try{PD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:nee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ec.$.h.call(this)}}At(Ec,Qt);var nee={2:"touch",3:"pen",4:"mouse"};Ec.prototype.h=function(){Ec.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dc="closure_listenable_"+(1e6*Math.random()|0),ree=0;function iee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ree,this.fa=this.ia=!1}function vf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function BD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function NO(t){const e={};for(const n in t)e[n]=t[n];return e}const OO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<OO.length;s++)n=OO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wf(t){this.src=t,this.g={},this.h=0}function jD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=AO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function $D(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}wf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=$D(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new iee(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var HD="closure_lm_"+(1e6*Math.random()|0),GD={};function FO(t,e,n,r,i){if(r&&r.once)return UO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FO(t,e[s],n,r,i);return null}return n=KD(n),t&&t[Dc]?t.O(e,n,wc(r)?!!r.capture:!!r,i):VO(t,e,n,!1,r,i)}function VO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=wc(i)?!!i.capture:!!i,a=qD(t);if(a||(t[HD]=a=new wf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function oee(){const e=aee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)JZ||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(jO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function UO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)UO(t,e[s],n,r,i);return null}return n=KD(n),t&&t[Dc]?t.P(e,n,wc(r)?!!r.capture:!!r,i):VO(t,e,n,!0,r,i)}function BO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)BO(t,e[s],n,r,i);else r=wc(r)?!!r.capture:!!r,n=KD(n),t&&t[Dc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=$D(s=t.g[e],n,r,i))&&(vf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=qD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$D(e,n,r,i)),(n=-1<t?e[t]:null)&&zD(n))}function zD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Dc])jD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(jO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qD(e))?(jD(n,t),0==n.h&&(n.src=null,e[HD]=null)):vf(t)}}}function jO(t){return t in GD?GD[t]:GD[t]="on"+t}function aee(t,e){if(t.fa)t=!0;else{e=new Ec(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zD(t),t=n.call(r,e)}return t}function qD(t){return(t=t[HD])instanceof wf?t:null}var WD="__closure_events_fn_"+(1e9*Math.random()>>>0);function KD(t){return"function"==typeof t?t:(t[WD]||(t[WD]=function(e){return t.handleEvent(e)}),t[WD])}function xt(){Bi.call(this),this.i=new wf(this),this.S=this,this.J=null}function Lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Qt(e,t);else if(e instanceof Qt)e.target=e.target||t;else{var i=e;LO(e=new Qt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=If(o,r,!0,e)&&i}if(i=If(o=e.g=t,r,!0,e)&&i,i=If(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=If(o=e.g=n[s],r,!1,e)&&i}function If(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&jD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}At(xt,Bi),xt.prototype[Dc]=!0,xt.prototype.removeEventListener=function(t,e,n,r){BO(this,t,e,n,r)},xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vf(n[r]);delete t.g[e],t.h--}}this.J=null},xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var QD=Q.JSON.stringify;function cee(){var t=YD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $O=new class uee{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dee,t=>t.reset());class dee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hee(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fee(t){Q.setTimeout(()=>{throw t},0)}let Tc,Cc=!1,YD=new class lee{constructor(){this.h=this.g=null}add(e,n){const r=$O.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},HO=()=>{const t=Q.Promise.resolve(void 0);Tc=()=>{t.then(pee)}};var pee=()=>{for(var t;t=cee();){try{t.h.call(t.g)}catch(n){fee(n)}var e=$O;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cc=!1};function Ef(t,e){xt.call(this),this.h=t||1,this.g=e||Q,this.j=Kt(this.qb,this),this.l=Date.now()}function JD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function XD(t,e,n){if("function"==typeof t)n&&(t=Kt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Kt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function GO(t){t.g=XD(()=>{t.g=null,t.i&&(t.i=!1,GO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}At(Ef,xt),(M=Ef.prototype).ga=!1,M.T=null,M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(JD(this),this.start()))}},M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},M.N=function(){Ef.$.N.call(this),JD(this),delete this.g};class gee extends Bi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GO(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bc(t){Bi.call(this),this.h=t,this.g={}}At(bc,Bi);var zO=[];function qO(t,e,n,r){Array.isArray(n)||(n&&(zO[0]=n.toString()),n=zO);for(var i=0;i<n.length;i++){var s=FO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function WO(t){BD(t.g,function(e,n){this.g.hasOwnProperty(n)&&zD(e)},t),t.g={}}function Df(){this.g=!0}function ga(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return QD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}bc.prototype.N=function(){bc.$.N.call(this),WO(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Df.prototype.Ea=function(){this.g=!1},Df.prototype.info=function(){};var Us={},KO=null;function Tf(){return KO=KO||new xt}function QO(t){Qt.call(this,Us.Ta,t)}function Sc(t){const e=Tf();Lt(e,new QO(e))}function YO(t,e){Qt.call(this,Us.STAT_EVENT,t),this.stat=e}function ln(t){const e=Tf();Lt(e,new YO(e,t))}function JO(t,e){Qt.call(this,Us.Ua,t),this.size=e}function Ac(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Us.Ta="serverreachability",At(QO,Qt),Us.STAT_EVENT="statevent",At(YO,Qt),Us.Ua="timingevent",At(JO,Qt);var Cf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ZD(){}function eL(){}ZD.prototype.h=null;var nT,xc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function eT(){Qt.call(this,"d")}function tT(){Qt.call(this,"c")}function bf(){}function Mc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bc(this),this.P=wee,this.V=new Ef(t=ND?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tL}function tL(){this.i=null,this.g="",this.h=!1}At(eT,Qt),At(tT,Qt),At(bf,ZD),bf.prototype.g=function(){return new XMLHttpRequest},bf.prototype.i=function(){return{}},nT=new bf;var wee=45e3,rT={},Sf={};function iT(t,e,n){t.L=1,t.v=kf(fi(e)),t.s=n,t.S=!0,nL(t,null)}function nL(t,e){t.G=Date.now(),kc(t),t.A=fi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),hL(n.i,"t",r),t.C=0,n=t.l.J,t.h=new tL,t.g=LL(t.l,n?e:null,!t.s),0<t.O&&(t.M=new gee(Kt(t.Pa,t,t.g),t.O)),qO(t.U,t.g,"readystatechange",t.nb),e=t.I?NO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sc(),function mee(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function rL(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function iL(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Iee(t,n),i==Sf){4==e&&(t.o=4,ln(14),r=!1),ga(t.j,t.m,null,"[Incomplete Response]");break}if(i==rT){t.o=4,ln(15),ga(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ga(t.j,t.m,i,null),sT(t,i)}rL(t)&&i!=Sf&&i!=rT&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hT(e),e.M=!0,ln(11))):(ga(t.j,t.m,n,"[Invalid Chunked Response]"),Bs(t),Rc(t))}function Iee(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Sf:(n=Number(e.substring(n,r)),isNaN(n)?rT:(r+=1)+n>e.length?Sf:(e=e.slice(r,r+n),t.C=r+n,e))}function kc(t){t.Y=Date.now()+t.P,sL(t,t.P)}function sL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ac(Kt(t.lb,t),e)}function Af(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function Rc(t){0==t.l.H||t.J||RL(t.l,t)}function Bs(t){Af(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,JD(t.V),WO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||oT(n.i,t)))if(!t.K&&oT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Ff(n),Of(n)}dT(n),ln(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ac(Kt(n.ib,n),6e3));if(1>=gL(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $s(n,11)}else if((t.K||n.g==t)&&Ff(n),!Ic(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(aT(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ne(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=OL(r,r.J?r.pa:null,r.Y),o.K){mL(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Af(a),kc(a)),r.g=o}else ML(r);0<n.j.length&&Lf(n)}else"stop"!=c[0]&&"close"!=c[0]||$s(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?$s(n,7):lT(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Sc()}catch{}}function oL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(mf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Dee(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Eee(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(mf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(M=Mc.prototype).setTimeout=function(t){this.P=t},M.nb=function(t){t=t.target;const e=this.M;e&&3==Or(t)?e.l():this.Pa(t)},M.Pa=function(t){try{if(t==this.g)e:{const l=Or(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||ND||this.g&&(this.h.h||this.g.ja()||TL(this.g)))){this.J||4!=l||7==e||Sc(),Af(this);var n=this.g.da();this.ca=n;t:if(rL(this)){var r=TL(this.g);t="";var i=r.length,s=4==Or(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),Rc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function yee(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ic(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ln(12),Bs(this),Rc(this);break e}ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sT(this,n)}this.S?(iL(this,l,o),ND&&this.i&&3==l&&(qO(this.U,this.V,"tick",this.mb),this.V.start())):(ga(this.j,this.m,o,null),sT(this,o)),4==l&&Bs(this),this.i&&!this.J&&(4==l?RL(this.l,this):(this.i=!1,kc(this)))}else(function jee(t){const e={};t=(t.g&&2<=Or(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ic(t[r]))continue;var n=hee(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function see(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),Bs(this),Rc(this)}}}catch{}},M.mb=function(){if(this.g){var t=Or(this.g),e=this.g.ja();this.C<e.length&&(Af(this),iL(this,t,e),this.i&&4!=t&&kc(this))}},M.cancel=function(){this.J=!0,Bs(this)},M.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function _ee(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sc(),ln(17)),Bs(this),this.o=2,Rc(this)):sL(this,this.Y-t)};var aL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function js(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof js){this.h=t.h,xf(this,t.j),this.s=t.s,this.g=t.g,Mf(this,t.m),this.l=t.l;var e=t.i,n=new Oc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uL(this,n),this.o=t.o}else t&&(e=String(t).match(aL))?(this.h=!1,xf(this,e[1]||"",!0),this.s=Pc(e[2]||""),this.g=Pc(e[3]||"",!0),Mf(this,e[4]),this.l=Pc(e[5]||"",!0),uL(this,e[6]||"",!0),this.o=Pc(e[7]||"")):(this.h=!1,this.i=new Oc(null,this.h))}function fi(t){return new js(t)}function xf(t,e,n){t.j=n?Pc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function uL(t,e,n){e instanceof Oc?(t.i=e,function Mee(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lL(this,r),hL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Nc(e,Aee)),t.i=new Oc(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function kf(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Cee),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cee(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Nc(e,cL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Nc(e,cL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Nc(n,"/"==n.charAt(0)?See:bee,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Nc(n,xee)),t.join("")};var cL=/[#\/\?@]/g,bee=/[#\?:]/g,See=/[#\?]/g,Aee=/[#\?@]/g,xee=/#/g;function Oc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new Map,t.h=0,t.i&&function Tee(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lL(t,e){ji(t),e=ma(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function dL(t,e){return ji(t),e=ma(t,e),t.g.has(e)}function hL(t,e,n){lL(t,e),0<n.length&&(t.i=null,t.g.set(ma(t,e),RD(n)),t.h+=n.length)}function ma(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fL(t){this.l=t||Ree,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(M=Oc.prototype).add=function(t,e){ji(this),this.i=null,t=ma(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},M.forEach=function(t,e){ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},M.ta=function(){ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},M.Z=function(t){ji(this);let e=[];if("string"==typeof t)dL(this,t)&&(e=e.concat(this.g.get(ma(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},M.set=function(t,e){return ji(this),this.i=null,dL(this,t=ma(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},M.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Ree=10;function pL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function gL(t){return t.h?1:t.g?t.g.size:0}function oT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function aT(t,e){t.g?t.g.add(e):t.h=e}function mL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function yL(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return RD(t.i)}function Nee(){this.g=new class{stringify(t){return Q.JSON.stringify(t,void 0)}parse(t){return Q.JSON.parse(t,void 0)}}}function Oee(t,e,n){const r=n||"";try{oL(t,function(i,s){let o=i;wc(i)&&(o=QD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Lc(t){this.l=t.fc||null,this.j=t.ob||!1}function Pf(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=uT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fL.prototype.cancel=function(){if(this.i=yL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},At(Lc,ZD),Lc.prototype.g=function(){return new Pf(this.l,this.j)},Lc.prototype.i=function(t){return function(){return t}}({}),At(Pf,xt);var uT=0;function _L(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Fc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vc(t)}function Vc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(M=Pf.prototype).open=function(t,e){if(this.readyState!=uT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vc(this)},M.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fc(this)),this.readyState=uT},M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_L(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fc(this):Vc(this),3==this.readyState&&_L(this)}},M.Za=function(t){this.g&&(this.response=this.responseText=t,Fc(this))},M.Ya=function(t){this.g&&(this.response=t,Fc(this))},M.ka=function(){this.g&&Fc(this)},M.setRequestHeader=function(t,e){this.v.append(t,e)},M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Fee=Q.JSON.parse;function Xe(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vL,this.L=this.M=!1}At(Xe,xt);var vL="",Vee=/^https?$/i,Uee=["POST","PUT"];function wL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,IL(t),Nf(t)}function IL(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}function EL(t){if(t.h&&typeof MD<"u"&&(!t.C[1]||4!=Or(t)||2!=t.da()))if(t.v&&4==Or(t))XD(t.La,0,t);else if(Lt(t,"readystatechange"),4==Or(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(aL)[1]||null;!i&&Q.self&&Q.self.location&&(i=Q.self.location.protocol.slice(0,-1)),r=!Vee.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var s=2<Or(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",IL(t)}}finally{Nf(t)}}}function Nf(t,e){if(t.g){DL(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function DL(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Or(t){return t.g?t.g.readyState:0}function TL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function CL(t){let e="";return BD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function cT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=CL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function Uc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bL(t){this.Ga=0,this.j=[],this.l=new Df,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uc("baseRetryDelayMs",5e3,t),this.hb=Uc("retryDelaySeedMs",1e4,t),this.eb=Uc("forwardChannelMaxRetries",2,t),this.xa=Uc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fL(t&&t.concurrentRequestLimit),this.Ja=new Nee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lT(t){if(SL(t),3==t.H){var e=t.W++,n=fi(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Bc(t,n),(e=new Mc(t,t.l,e)).L=2,e.v=kf(fi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=LL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),kc(e)}NL(t)}function Of(t){t.g&&(hT(t),t.g.cancel(),t.g=null)}function SL(t){Of(t),t.u&&(Q.clearTimeout(t.u),t.u=null),Ff(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function Lf(t){if(!pL(t.i)&&!t.m){t.m=!0;var e=t.Na;Tc||HO(),Cc||(Tc(),Cc=!0),YD.add(e,t),t.C=0}}function AL(t,e){var n;n=e?e.m:t.W++;const r=fi(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),Bc(t,r),t.o&&t.s&&cT(r,t.o,t.s),n=new Mc(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=xL(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),aT(t.i,n),iT(n,r,e)}function Bc(t,e){t.na&&BD(t.na,function(n,r){Ne(e,r,n)}),t.h&&oL({},function(n,r){Ne(e,r,n)})}function xL(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Kt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{Oee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ML(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Tc||HO(),Cc||(Tc(),Cc=!0),YD.add(e,t),t.A=0}}function dT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ac(Kt(t.Ma,t),PL(t,t.A)),t.A++,0))}function hT(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function kL(t){t.g=new Mc(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=fi(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),Bc(t,e),t.o&&t.s&&cT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=kf(fi(e)),n.s=null,n.S=!0,nL(n,t)}function Ff(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function RL(t,e){var n=null;if(t.g==e){Ff(t),hT(t),t.g=null;var r=2}else{if(!oT(t.i,e))return;n=e.F,mL(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Lt(r=Tf(),new JO(r,n)),Lf(t)}else ML(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function $ee(t,e){return!(gL(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ac(Kt(t.Na,t,e),PL(t,t.C)),t.C++,0)))}(t,e)||2==r&&dT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$s(t,5);break;case 4:$s(t,10);break;case 3:$s(t,6);break;default:$s(t,2)}}function PL(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $s(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Kt(t.pb,t);n||(n=new js("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||xf(n,"https"),kf(n)),function Lee(t,e){const n=new Df;if(Q.Image){const r=new Image;r.onload=yf(Rf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yf(Rf,n,r,"TestLoadImage: error",!1,e),r.onabort=yf(Rf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yf(Rf,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ln(2);t.H=0,t.h&&t.h.za(e),NL(t),SL(t)}function NL(t){if(t.H=0,t.ma=[],t.h){const e=yL(t.i);(0!=e.length||0!=t.j.length)&&(xO(t.ma,e),xO(t.ma,t.j),t.i.i.length=0,RD(t.j),t.j.length=0),t.h.ya()}}function OL(t,e,n){var r=n instanceof js?fi(n):new js(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Mf(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new js(null);r&&xf(s,r),e&&(s.g=e),i&&Mf(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),Bc(t,r),r}function LL(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xe(n&&t.Ha&&!t.va?new Lc({ob:!0}):t.va)).Oa(t.J),e}function FL(){}function Vf(){if(pa&&!(10<=Number(tee)))throw Error("Environmental error: no available transport.")}function Nn(t,e){xt.call(this),this.g=new bL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ic(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ic(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ya(this)}function VL(t){eT.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function UL(){tT.call(this),this.status=1}function ya(t){this.g=t}function fr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function fT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(M=Xe.prototype).Oa=function(t){this.M=t},M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nT.g(),this.C=function ZO(t){return t.h||(t.h=t.i())}(this.u?this.u:nT),this.g.onreadystatechange=Kt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void wL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=AO(Uee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{DL(this),0<this.B&&((this.L=function Bee(t){return pa&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.ua,this)):this.A=XD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){wL(this,s)}},M.ua=function(){typeof MD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),Nf(this))},M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nf(this,!0)),Xe.$.N.call(this)},M.La=function(){this.s||(this.G||this.v||this.l?EL(this):this.kb())},M.kb=function(){EL(this)},M.isActive=function(){return!!this.g},M.da=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fee(e)}},M.Ia=function(){return this.m},M.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(M=bL.prototype).ra=8,M.H=1,M.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Mc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=NO(s),LO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xL(this,i,e),Ne(n=fi(this.I),"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),Bc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(CL(s)))+"&"+e:this.o&&cT(n,this.o,s)),aT(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,iT(i,n,null)):iT(i,n,e),this.H=2}}else 3==this.H&&(t?AL(this,t):0==this.j.length||pL(this.i)||AL(this))},M.Ma=function(){if(this.u=null,kL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ac(Kt(this.jb,this),t)}},M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ln(10),Of(this),kL(this))},M.ib=function(){null!=this.v&&(this.v=null,Of(this),dT(this),ln(19))},M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ln(2)):(this.l.info("Failed to ping google.com"),ln(1))},M.isActive=function(){return!!this.h&&this.h.isActive(this)},(M=FL.prototype).Ba=function(){},M.Aa=function(){},M.za=function(){},M.ya=function(){},M.isActive=function(){return!0},M.Va=function(){},Vf.prototype.g=function(t,e){return new Nn(t,e)},At(Nn,xt),Nn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ln(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=OL(t,null,t.Y),Lf(t)},Nn.prototype.close=function(){lT(this.g)},Nn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=QD(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Lf(e)},Nn.prototype.N=function(){this.g.h=null,delete this.j,lT(this.g),delete this.g,Nn.$.N.call(this)},At(VL,eT),At(UL,tT),At(ya,FL),ya.prototype.Ba=function(){Lt(this.g,"a")},ya.prototype.Aa=function(t){Lt(this.g,new VL(t))},ya.prototype.za=function(t){Lt(this.g,new UL)},ya.prototype.ya=function(){Lt(this.g,"b")},At(fr,function Hee(){this.blockSize=-1}),fr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)fT(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){fT(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){fT(this,r),i=0;break}}this.h=i,this.i+=e},fr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Gee={};function pT(t){return-128<=t&&128>t?function XZ(t,e){var n=Gee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|t],0>t?-1:0)}function Lr(t){if(isNaN(t)||!isFinite(t))return _a;if(0>t)return Ft(Lr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=gT;return new Te(e,0)}var gT=4294967296,_a=pT(0),mT=pT(1),jL=pT(16777216);function pi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Kn(t){return-1==t.h}function Ft(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(mT)}function Uf(t,e){return t.add(Ft(e))}function Bf(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function jc(t,e){this.g=t,this.h=e}function jf(t,e){if(pi(e))throw Error("division by zero");if(pi(t))return new jc(_a,_a);if(Kn(t))return e=jf(Ft(t),e),new jc(Ft(e.g),Ft(e.h));if(Kn(e))return e=jf(t,Ft(e)),new jc(Ft(e.g),e.h);if(30<t.g.length){if(Kn(t)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=mT,r=e;0>=r.X(t);)n=$L(n),r=$L(r);var i=va(n,1),s=va(r,1);for(r=va(r,2),n=va(n,2);!pi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=va(r,1),n=va(n,1)}return e=Uf(t,i.R(e)),new jc(i,e)}for(i=_a;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Lr(n)).R(e);Kn(o)||0<o.X(t);)o=(s=Lr(n-=r)).R(e);pi(s)&&(s=mT),i=i.add(s),t=Uf(t,o)}return new jc(i,t)}function $L(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function va(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Te(i,t.h)}(M=Te.prototype).ea=function(){if(Kn(this))return-Ft(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:gT+r)*e,e*=gT}return t},M.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(pi(this))return"0";if(Kn(this))return"-"+Ft(this).toString(t);for(var e=Lr(Math.pow(t,6)),n=this,r="";;){var i=jf(n,e).g,s=((0<(n=Uf(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(pi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},M.X=function(t){return Kn(t=Uf(this,t))?-1:pi(t)?0:1},M.abs=function(){return Kn(this)?Ft(this):this},M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Te(n,-2147483648&n[n.length-1]?-1:0)},M.R=function(t){if(pi(this)||pi(t))return _a;if(Kn(this))return Kn(t)?Ft(this).R(Ft(t)):Ft(Ft(this).R(t));if(Kn(t))return Ft(this.R(Ft(t)));if(0>this.X(jL)&&0>t.X(jL))return Lr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Bf(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Bf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Bf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Bf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)},M.gb=function(t){return jf(this,t).h},M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)},M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)},M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)},Vf.prototype.createWebChannel=Vf.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,XO.COMPLETE="complete",eL.EventType=xc,xc.OPEN="a",xc.CLOSE="b",xc.ERROR="c",xc.MESSAGE="d",xt.prototype.listen=xt.prototype.O,Xe.prototype.listenOnce=Xe.prototype.P,Xe.prototype.getLastError=Xe.prototype.Sa,Xe.prototype.getLastErrorCode=Xe.prototype.Ia,Xe.prototype.getStatus=Xe.prototype.da,Xe.prototype.getResponseJson=Xe.prototype.Wa,Xe.prototype.getResponseText=Xe.prototype.ja,Xe.prototype.send=Xe.prototype.ha,Xe.prototype.setWithCredentials=Xe.prototype.Oa,fr.prototype.digest=fr.prototype.l,fr.prototype.reset=fr.prototype.reset,fr.prototype.update=fr.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=Lr,Te.fromString=function BL(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ft(BL(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Lr(Math.pow(e,8)),r=_a,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Lr(Math.pow(e,s)),r=r.R(s).add(Lr(o))):r=(r=r.R(n)).add(Lr(o))}return r};var zee=hr.createWebChannelTransport=function(){return new Vf},qee=hr.getStatEventTarget=function(){return Tf()},yT=hr.ErrorCode=Cf,Wee=hr.EventType=XO,Kee=hr.Event=Us,HL=hr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qee=hr.FetchXmlHttpFactory=Lc,$f=hr.WebChannel=eL,Yee=hr.XhrIo=Xe,Jee=hr.Md5=fr,wa=hr.Integer=Te;const GL="@firebase/firestore";class Mt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");let Ia="9.23.0";const $i=new ra("@firebase/firestore");function _T(){return $i.logLevel}function C(t,...e){if($i.logLevel<=de.DEBUG){const n=e.map(vT);$i.debug(`Firestore (${Ia}): ${t}`,...n)}}function rt(t,...e){if($i.logLevel<=de.ERROR){const n=e.map(vT);$i.error(`Firestore (${Ia}): ${t}`,...n)}}function pr(t,...e){if($i.logLevel<=de.WARN){const n=e.map(vT);$i.warn(`Firestore (${Ia}): ${t}`,...n)}}function vT(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function L(t,e){t||O()}function A(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class zL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class Zee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ete{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new zL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new Mt(e)}}class tte{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nte{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new tte(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rte{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new qL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ite(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function W(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new qe(0,0))}static max(){return new F(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $c{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===$c.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends $c{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const ste=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends $c{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return ste.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(ge.fromString(e))}static fromName(e){return new S(ge.fromString(e).popFirst(5))}static empty(){return new S(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new ge(e.slice()))}}function YL(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(F.min(),S.empty(),-1)}static max(){return new On(F.max(),S.empty(),-1)}}function IT(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:W(t.largestBatchId,e.largestBatchId))}const JL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Hi(t){return ET.apply(this,arguments)}function ET(){return ET=y(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==JL)throw t;C("LocalStore","Unexpectedly lost primary lease")}),ET.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Gi(t){return"IndexedDbTransactionError"===t.name}let Ln=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function zc(t){return null==t}function qc(t){return 0===t&&1/t==-1/0}function oF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Re{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wf(this.root,e,this.comparator,!0)}}class Wf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1,Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uF(this.data.getIterator())}getIteratorFrom(e){return new uF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class uF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Oe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class cF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cF("Invalid base64 string: "+i):i}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const kte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(L(!!t),"string"==typeof t){let e=0;const n=kte.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function gi(t){return"string"==typeof t?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function Kf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qf(t){const e=t.mapValue.fields.__previous_value__;return Kf(e)?Qf(e):e}function Wc(t){const e=qi(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}class Rte{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}const Wi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kf(t)?4:fF(t)?9007199254740991:10:O()}function Vr(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=qi(r.timestampValue),o=qi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,gi(t.bytesValue).isEqual(gi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?qc(s)===qc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(oF(s)!==oF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Vr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function Kc(t,e){return void 0!==(t.values||[]).find(n=>Vr(n,e))}function Qi(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return W(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return lF(t.timestampValue,e.timestampValue);case 4:return lF(Wc(t),Wc(e));case 5:return W(t.stringValue,e.stringValue);case 6:return function(i,s){const o=gi(i),a=gi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=W(o[u],a[u]);if(0!==c)return c}return W(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=W(Ze(i.latitude),Ze(s.latitude));return 0!==o?o:W(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Qi(o[u],a[u]);if(c)return c}return W(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Wi_mapValue&&s===Wi_mapValue)return 0;if(i===Wi_mapValue)return 1;if(s===Wi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=W(a[l],c[l]);if(0!==d)return d;const h=Qi(o[a[l]],u[c[l]]);if(0!==h)return h}return W(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function lF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return W(t,e);const n=qi(t),r=qi(e),i=W(n.seconds,r.seconds);return 0!==i?i:W(n.nanos,r.nanos)}function Ta(t){return CT(t)}function CT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=qi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?gi(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=CT(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${CT(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function qs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bT(t){return!!t&&"integerValue"in t}function Qc(t){return!!t&&"arrayValue"in t}function dF(t){return!!t&&"nullValue"in t}function hF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xf(t){return!!t&&"mapValue"in t}function Yc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ut(Yc(this.value))}}class Le{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Le(e,0,F.min(),F.min(),F.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new Le(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new Le(e,2,n,F.min(),F.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new Le(e,3,n,F.min(),F.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Le&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yi{constructor(e,n){this.position=e,this.inclusive=n}}function yF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):Qi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function _F(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}class Ca{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ote(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vF{}class le extends vF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Lte(e,n,r):"array-contains"===n?new Ute(e,r):"in"===n?new CF(e,r):"not-in"===n?new Bte(e,r):"array-contains-any"===n?new jte(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Fte(e,r):new Vte(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Qi(n,this.value)):null!==n&&Ki(this.value)===Ki(n)&&this.matchesComparison(Qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ce extends vF{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ce(e,n)}matches(e){return ba(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ba(t){return"and"===t.op}function AT(t){return function wF(t){for(const e of t.filters)if(e instanceof Ce)return!1;return!0}(t)&&ba(t)}function xT(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+Ta(t.value);if(AT(t))return t.filters.map(e=>xT(e)).join(",");{const e=t.filters.map(n=>xT(n)).join(",");return`${t.op}(${e})`}}function IF(t,e){return t instanceof le?(n=t,(r=e)instanceof le&&n.op===r.op&&n.field.isEqual(r.field)&&Vr(n.value,r.value)):t instanceof Ce?function(n,r){return r instanceof Ce&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&IF(s,r.filters[o]),!0)}(t,e):void O();var n,r}function DF(t){return t instanceof le?function(e){return`${e.field.canonicalString()} ${e.op} ${Ta(e.value)}`}(t):t instanceof Ce?function(e){return e.op.toString()+" {"+e.getFilters().map(DF).join(" ,")+"}"}(t):"Filter"}class Lte extends le{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fte extends le{constructor(e,n){super(e,"in",n),this.keys=TF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vte extends le{constructor(e,n){super(e,"not-in",n),this.keys=TF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class Ute extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qc(n)&&Kc(n.arrayValue,this.value)}}class CF extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Kc(this.value.arrayValue,n)}}class Bte extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Kc(this.value.arrayValue,n)}}class jte extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}class $te{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function MT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $te(t,e,n,r,i,s,o)}function Ws(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ta(r)).join(",")),e.dt=n}return e.dt}function Jc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ote(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_F(t.startAt,e.startAt)&&_F(t.endAt,e.endAt)}function Zf(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class mi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function Sa(t){return new mi(t)}function xF(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function kT(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function tp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function RT(t){return null!==t.collectionGroup}function Ks(t){const e=A(t);if(null===e.wt){e.wt=[];const n=tp(e),r=kT(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Ca(n)),e.wt.push(new Ca(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ca(it.keyField(),s))}}}return e.wt}function dn(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=MT(e.path,e.collectionGroup,Ks(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ks(e))n.push(new Ca(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Yi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yi(e.startAt.position,e.startAt.inclusive):null;e._t=MT(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function PT(t,e){e.getFirstInequalityField(),tp(t);const n=t.filters.concat([e]);return new mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function np(t,e,n){return new mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xc(t,e){return Jc(dn(t),dn(e))&&t.limitType===e.limitType}function MF(t){return`${Ws(dn(t))}|lt:${t.limitType}`}function NT(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>DF(r)).join(", ")}]`),zc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ta(r)).join(",")),`Target(${n})`}(dn(t))}; limitType=${t.limitType})`}function Zc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ks(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=yF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ks(n),r)||n.endAt&&!function(i,s,o){const a=yF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ks(n),r)));var n,r}function RF(t){return(e,n)=>{let r=!1;for(const i of Ks(t)){const s=Hte(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Hte(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Qi(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aF(this.inner)}size(){return this.innerSize}}const Gte=new Re(S.comparator);function wn(){return Gte}const PF=new Re(S.comparator);function el(...t){let e=PF;for(const n of t)e=e.insert(n.key,n);return e}function NF(t){let e=PF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return tl()}function OF(){return tl()}function tl(){return new yi(t=>t.toString(),(t,e)=>t.isEqual(e))}new Re(S.comparator);const qte=new Oe(S.comparator);function ee(...t){let e=qte;for(const n of t)e=e.add(n);return e}const Wte=new Oe(W);function LF(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function FF(t){return{integerValue:""+t}}function VF(t,e){return function ZL(t){return"number"==typeof t&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?FF(e):LF(t,e)}class rp{constructor(){this._=void 0}}function Kte(t,e,n){return t instanceof Aa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Kf(i)&&(i=Qf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qs?BF(t,e):t instanceof Ys?jF(t,e):function(r,i){const s=function UF(t,e){return t instanceof xa?bT(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=$F(s)+$F(r.gt);return bT(s)&&bT(r.gt)?FF(o):LF(r.serializer,o)}(t,e)}function Qte(t,e,n){return t instanceof Qs?BF(t,e):t instanceof Ys?jF(t,e):n}class Aa extends rp{}class Qs extends rp{constructor(e){super(),this.elements=e}}function BF(t,e){const n=HF(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ys extends rp{constructor(e){super(),this.elements=e}}function jF(t,e){let n=HF(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class xa extends rp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function $F(t){return Ze(t.integerValue||t.doubleValue)}function HF(t){return Qc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class LT{}function GF(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ka(t.key,je.none()):new Ma(t.key,t.data,je.none());{const n=t.data,r=Ut.empty();let i=new Oe(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new _i(t.key,r,new vn(i.toArray()),je.none())}}function Xte(t,e,n){t instanceof Ma?function(r,i,s){const o=r.value.clone(),a=WF(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof _i?function(r,i,s){if(!ip(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=WF(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(qF(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function rl(t,e,n,r){return t instanceof Ma?function(i,s,o,a){if(!ip(i.precondition,s))return o;const u=i.value.clone(),c=KF(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _i?function(i,s,o,a){if(!ip(i.precondition,s))return o;const u=KF(i.fieldTransforms,a,s),c=s.data;return c.setAll(qF(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,ip(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function zF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ea(n,r,(i,s)=>function Yte(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Qs&&r instanceof Qs||n instanceof Ys&&r instanceof Ys?Ea(n.elements,r.elements,Vr):n instanceof xa&&r instanceof xa?Vr(n.gt,r.gt):n instanceof Aa&&r instanceof Aa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ma extends LT{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _i extends LT{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WF(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Qte(o,a,n[i]))}return r}function KF(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Kte(s,o,e))}return r}class ka extends LT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Xte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=GF(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>zF(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>zF(n,r))}}class BT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tne{constructor(e,n){this.count=e,this.unchangedNames=n}}var ht,me;function YF(t){if(void 0===t)return rt("GRPC error has no .code"),I.UNKNOWN;switch(t){case ht.OK:return I.OK;case ht.CANCELLED:return I.CANCELLED;case ht.UNKNOWN:return I.UNKNOWN;case ht.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ht.INTERNAL:return I.INTERNAL;case ht.UNAVAILABLE:return I.UNAVAILABLE;case ht.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ht.NOT_FOUND:return I.NOT_FOUND;case ht.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ht.ABORTED:return I.ABORTED;case ht.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ht.DATA_LOSS:return I.DATA_LOSS;default:return O()}}(me=ht||(ht={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class jT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sp}static getOrCreateInstance(){return null===sp&&(sp=new jT),sp}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let sp=null;const nne=new wa([4294967295,4294967295],0);function XF(t){const e=function JF(){return new TextEncoder}().encode(t),n=new Jee;return n.update(e),new Uint8Array(n.digest())}function ZF(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wa([n,r],0),new wa([i,s],0)]}class $T{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new il(`Invalid padding: ${n}`);if(r<0)throw new il(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new il(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new il(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=wa.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(wa.fromNumber(r)));return 1===i.compare(nne)&&(i=new wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=XF(e),[r,i]=ZF(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $T(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=XF(e),[r,i]=ZF(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sl(F.min(),i,new Re(W),wn(),ee())}}class ol{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ol(r,n,ee(),ee(),ee())}}class op{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class e2{constructor(e,n){this.targetId=e,this.Vt=n}}class t2{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class n2{constructor(){this.St=0,this.Dt=i2(),this.Ct=Tt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ee(),n=ee(),r=ee();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new ol(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=i2()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rne{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wn(),this.zt=r2(),this.Wt=new Re(W)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Zf(o))if(0===i){const a=new S(o.path);this.Yt(r,a,Le.newNoDocument(a,F.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=jT.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,w;const E={localCacheCount:l,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(E.bloomFilter={applied:0===c,hashCount:null!==(h=_?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=_?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(m=_?.bits)||void 0===m?void 0:m.padding)&&void 0!==w?w:0}),E}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=gi(s).toUint8Array()}catch(l){if(l instanceof cF)return pr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new $T(u,o,a)}catch(l){return pr(l instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Zf(a.target)){const u=new S(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Le.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ee();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new sl(e,n,this.Wt,this.jt,r);return this.jt=wn(),this.zt=r2(),this.Wt=new Re(W),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new n2,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Oe(W),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new n2),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function r2(){return new Re(S.comparator)}function i2(){return new Re(S.comparator)}const ine={asc:"ASCENDING",desc:"DESCENDING"},sne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},one={and:"AND",or:"OR"};class ane{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function HT(t,e){return t.useProto3Json||zc(e)?e:{value:e}}function Ra(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function st(t){return L(!!t),F.fromTimestamp(function(e){const n=qi(e);return new qe(n.seconds,n.nanos)}(t))}function GT(t,e){return(n=t,new ge(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function o2(t){const e=ge.fromString(t);return L(g2(e)),e}function Br(t,e){const n=o2(e);if(n.get(1)!==t.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(u2(n))}function zT(t,e){return GT(t.databaseId,e)}function ul(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u2(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function d2(t,e){return{documents:[zT(t,e.path)]}}function WT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=zT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return p2(Ce.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ji((l=c).field),direction:fne(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=HT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function h2(t){let e=function a2(t){const e=o2(t);return 4===e.length?ge.emptyPath():u2(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=f2(l);return d instanceof Ce&&AT(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ca(Pa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,zc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Yi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Yi(l.values||[],!l.before)}(n.endAt)),function AF(t,e,n,r,i,s,o,a){return new mi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function f2(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Pa(e.unaryFilter.field);return le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Pa(e.unaryFilter.field);return le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pa(e.unaryFilter.field);return le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Pa(e.unaryFilter.field);return le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return le.create(Pa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return Ce.create(e.compositeFilter.filters.map(n=>f2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function fne(t){return ine[t]}function pne(t){return sne[t]}function gne(t){return one[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Pa(t){return it.fromServerFormat(t.fieldPath)}function p2(t){return t instanceof le?function(e){if("=="===e.op){if(hF(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NAN"}};if(dF(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hF(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NOT_NAN"}};if(dF(e.value))return{unaryFilter:{field:Ji(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(e.field),op:pne(e.op),value:e.value}}}(t):t instanceof Ce?function(e){const n=e.getFilters().map(r=>p2(r));return 1===n.length?n[0]:{compositeFilter:{op:gne(e.op),filters:n}}}(t):O()}function g2(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class vi{constructor(e,n,r,i,s=F.min(),o=F.min(),a=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class m2{constructor(e){this.fe=e}}function KT(t){const e=h2({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?np(e,e.limit,"L"):e}class eo{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),qc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(gi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?fF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),S.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}eo.Ve=new eo;class Cne{constructor(){this.rn=new eC}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(On.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class eC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(ge.comparator)).toArray()}}new Uint8Array(0);class Jt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);class no{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new no(0)}static Mn(){return new no(-1)}}class Nne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&rl(r.mutation,i,vn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=el();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wn();const o=tl(),a=tl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof _i)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),rl(l.mutation,c,l.mutation.getFieldMask(),qe.now())):o.set(c.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Nne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tl();let i=new Re((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||vn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=OF();l.forEach(h=>{if(!s.has(h)){const f=GF(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):RT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Ur());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:NF(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=el();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=el();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new mi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Le.newInvalidDocument(c)))});let o=el();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&rl(c.mutation,u,vn.empty(),qe.now()),Zc(n,u)&&(o=o.insert(a,u))}),o})}}class One{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:st(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:KT(r.bundledQuery),readTime:st(r.readTime)}),v.resolve();var r}}class Lne{constructor(){this.overlays=new Re(S.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Ur(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Ur(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Ur(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BT(n,r));let s=this.ls.get(n);void 0===s&&(s=ee(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class tC{constructor(){this.fs=new Oe(Rt.ds),this.ws=new Oe(Rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Rt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new S(new ge([])),r=new Rt(n,e),i=new Rt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new S(new ge([])),r=new Rt(n,e),i=new Rt(n,e+1);let s=ee();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Rt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return S.comparator(e.key,n.key)||W(e.As,n.As)}static _s(e,n){return W(e.As,n.As)||S.comparator(e.key,n.key)}}class Fne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Oe(Rt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new VT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),i=new Rt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(W);return n.forEach(i=>{const s=new Rt(i,0),o=new Rt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new Rt(new S(s),0);let a=new Oe(W);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new Rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Rt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Vne{constructor(e){this.Ds=e,this.docs=new Re(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Le.newInvalidDocument(n))}getEntries(e,n){let r=wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Le.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wn();const o=n.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||IT(YL(l),r)<=0||(i.has(l.key)||Zc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Une(this)}getSize(e){return v.resolve(this.size)}}class Une extends class kne{constructor(){this.changes=new yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Le.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Bne{constructor(e){this.persistence=e,this.xs=new yi(n=>Ws(n),Jc),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Ns=0,this.ks=new tC,this.targetCount=0,this.Ms=no.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new no(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class nC{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ln(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Bne(this),this.indexManager=new Cne,this.remoteDocumentCache=new Vne(r=>this.referenceDelegate.Ls(r)),this.serializer=new m2(n),this.qs=new One(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Fne(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new jne(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class jne extends class ute{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.Qs=new tC,this.js=null}static zs(e){return new gp(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=S.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class oC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new oC(e,n.fromCache,r,i)}}class G2{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(xF(n))return v.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=np(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,np(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return xF(n)||i.isEqual(F.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(_T()<=de.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),NT(n)),this.Wi(e,o,n,function QL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new qe(n+1,0):new qe(n,r));return new On(i,S.empty(),e)}(i,-1)))})}ji(e,n){let r=new Oe(RF(e));return n.forEach((i,s)=>{Zc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return _T()<=de.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",NT(n)),this.Ui.getDocumentsMatchingQuery(e,n,On.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Hne{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Re(W),this.Yi=new yi(s=>Ws(s),Jc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function q2(t,e){return aC.apply(this,arguments)}function aC(){return aC=y(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),aC.apply(this,arguments)}function W2(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function zne(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=wn(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function K2(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(F.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):C("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(F.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}function La(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function Fa(t,e,n){return uC.apply(this,arguments)}function uC(){return uC=y(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Gi(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),uC.apply(this,arguments)}function _p(t,e,n){const r=A(t);let i=F.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:F.min(),n?s:ee())).next(a=>(function J2(t,e,n){let r=t.Xi.get(e)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function kF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class fC{constructor(){this.activeTargetIds=function OT(){return Wte}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eV{constructor(){this.Hr=new fC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new fC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qne{Yr(e){}shutdown(){}}class tV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ip=null;function gC(){return null===Ip?Ip=268435456+Math.round(2147483648*Math.random()):Ip++,"0x"+Ip.toString(16)}const Yne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jne{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Xt="WebChannelConnection";class Xne extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=gC(),a=this.To(e,n);C("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(C("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw pr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${Yne[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=gC();return new Promise((o,a)=>{const u=new Yee;u.setWithCredentials(!0),u.listenOnce(Wee.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yT.NO_ERROR:const l=u.getResponseJson();C(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case yT.TIMEOUT:C(Xt,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case yT.HTTP_ERROR:const d=u.getStatus();if(C(Xt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C(Xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);C(Xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=gC(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zee(),a=qee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Qee({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");C(Xt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Jne({ro:m=>{f?C(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(C(Xt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),C(Xt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,w,E)=>{m.listen(w,_=>{try{E(_)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,$f.EventType.OPEN,()=>{f||C(Xt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,$f.EventType.CLOSE,()=>{f||(f=!0,C(Xt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,$f.EventType.ERROR,m=>{f||(f=!0,pr(Xt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,$f.EventType.MESSAGE,m=>{var w;if(!f){const E=m.data[0];L(!!E);const _=E,x=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(x){C(Xt,`RPC '${e}' stream ${i} received error:`,x);const V=x.status;let j=function(Fn){const Hr=ht[Fn];if(void 0!==Hr)return YF(Hr)}(V),Ve=x.message;void 0===j&&(j=I.INTERNAL,Ve="Unknown error status: "+V+" with message "+x.message),f=!0,p.wo(new T(j,Ve)),d.close()}else C(Xt,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),g(a,Kee.STAT_EVENT,m=>{m.stat===HL.PROXY?C(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===HL.NOPROXY&&C(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Ep(){return typeof document<"u"?document:null}function _l(t){return new ane(t,!0)}class mC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ere extends class Zne{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mC(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function lne(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:YF(u.code);return new T(c,u.message||"")}(o);n=new t2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Br(t,r.document.name),s=st(r.document.updateTime),o=r.document.createTime?st(r.document.createTime):F.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=Le.newFoundDocument(i,s,o,a);n=new op(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Br(t,r.document),s=r.readTime?st(r.readTime):F.min(),o=Le.newNoDocument(i,s);n=new op([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Br(t,r.document);n=new op([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new tne(i,s);n=new e2(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return F.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?st(s.readTime):F.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ul(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Zf(a)?{documents:d2(i,a)}:{query:WT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=s2(i,s.resumeToken);const u=HT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(F.min())>0){o.readTime=Ra(i,s.snapshotVersion.toTimestamp());const u=HT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function hne(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ul(this.serializer),n.removeTarget=e,this.Wo(n)}}class nre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ire{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rt(n),this.mu=!1):C("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class sre{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;ts(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=A(c);l.vu.add(4),yield Va(l),l.bu.set("Unknown"),l.vu.delete(4),yield vl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new ire(r,i)}}function vl(t){return _C.apply(this,arguments)}function _C(){return _C=y(function*(t){if(ts(t))for(const e of t.Ru)yield e(!0)}),_C.apply(this,arguments)}function Va(t){return vC.apply(this,arguments)}function vC(){return vC=y(function*(t){for(const e of t.Ru)yield e(!1)}),vC.apply(this,arguments)}function Dp(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),EC(n)?IC(n):Ba(n).Ko()&&wC(n,e))}function wl(t,e){const n=A(t),r=Ba(n);n.Au.delete(e),r.Ko()&&rV(n,e),0===n.Au.size&&(r.Ko()?r.jo():ts(n)&&n.bu.set("Unknown"))}function wC(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).su(e)}function rV(t,e){t.Vu.qt(e),Ba(t).iu(e)}function IC(t){t.Vu=new rne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.bu.gu()}function EC(t){return ts(t)&&!Ba(t).Uo()&&t.Au.size>0}function ts(t){return 0===A(t).vu.size}function iV(t){t.Vu=void 0}function ore(t){return DC.apply(this,arguments)}function DC(){return DC=y(function*(t){t.Au.forEach((e,n)=>{wC(t,e)})}),DC.apply(this,arguments)}function are(t,e){return TC.apply(this,arguments)}function TC(){return TC=y(function*(t,e){iV(t),EC(t)?(t.bu.Iu(e),IC(t)):t.bu.set("Unknown")}),TC.apply(this,arguments)}function ure(t,e,n){return CC.apply(this,arguments)}function CC(){return CC=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof t2&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tp(t,r)}else if(e instanceof op?t.Vu.Ht(e):e instanceof e2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(F.min()))try{const r=yield W2(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Tt.EMPTY_BYTE_STRING,c.snapshotVersion)),rV(i,a);const l=new vi(c.target,a,u,c.sequenceNumber);wC(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield Tp(t,r)}var r}),CC.apply(this,arguments)}function Tp(t,e,n){return bC.apply(this,arguments)}function bC(){return bC=y(function*(t,e,n){if(!Gi(e))throw e;t.vu.add(1),yield Va(t),t.bu.set("Offline"),n||(n=()=>W2(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield vl(t)}))}),bC.apply(this,arguments)}function uV(t,e){return RC.apply(this,arguments)}function RC(){return RC=y(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=ts(n);n.vu.add(3),yield Va(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield vl(n)}),RC.apply(this,arguments)}function NC(){return NC=y(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield vl(n)):e||(n.vu.add(2),yield Va(n),n.bu.set("Unknown"))}),NC.apply(this,arguments)}function Ba(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new ere(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:ore.bind(null,t),ao:are.bind(null,t),nu:ure.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),EC(t)?IC(t):t.bu.set("Unknown")):(yield t.Su.stop(),iV(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class OC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new OC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ja(t,e){if(rt("AsyncQueue",`${e}: ${t}`),Gi(t))return new T(I.UNAVAILABLE,`${e}: ${t}`);throw t}class $a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=el(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new $a(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new $a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cV{constructor(){this.Cu=new Re(S.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ha{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ha(e,n,$a.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class gre{constructor(){this.Nu=void 0,this.listeners=[]}}class mre{constructor(){this.queries=new yi(e=>MF(e),Xc),this.onlineState="Unknown",this.ku=new Set}}function FC(){return FC=y(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new gre),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ja(o,`Initialization of query '${NT(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&BC(n)}),FC.apply(this,arguments)}function UC(){return UC=y(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),UC.apply(this,arguments)}function yre(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&BC(n)}function _re(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function BC(t){t.ku.forEach(e=>{e.next()})}class jC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class hV{constructor(e){this.key=e}}class fV{constructor(e){this.key=e}}class pV{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ee(),this.mutatedKeys=ee(),this.tc=RF(e),this.ec=new $a(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new cV,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Zc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ha(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new cV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ee(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new fV(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new hV(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ee();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ha.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ire{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ere{constructor(e){this.key=e,this.fc=!1}}class Dre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new yi(a=>MF(a),Xc),this._c=new Map,this.mc=new Set,this.gc=new Re(S.comparator),this.yc=new Map,this.Ic=new tC,this.Tc={},this.Ec=new Map,this.Ac=no.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Tre(t,e){return $C.apply(this,arguments)}function $C(){return $C=y(function*(t,e){const n=h0(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield La(n.localStore,dn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield HC(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Dp(n.remoteStore,o)}return i}),$C.apply(this,arguments)}function HC(t,e,n,r,i){return GC.apply(this,arguments)}function GC(){return GC=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,w,E){let _=m.view.sc(w);_.zi&&(_=yield _p(g.localStore,m.query,!1).then(({documents:j})=>m.view.sc(j,_)));const x=E&&E.targetChanges.get(m.targetId),V=m.view.applyChanges(_,g.isPrimaryClient,x);return e0(g,m.targetId,V.cc),V.snapshot}),function(g,m,w,E){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield _p(t.localStore,e,!0),o=new pV(e,s.ir),a=o.sc(s.documents),u=ol.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);e0(t,n,c.cc);const l=new Ire(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),GC.apply(this,arguments)}function Cre(t,e){return zC.apply(this,arguments)}function zC(){return zC=y(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Xc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Fa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),wl(n.remoteStore,r.targetId),Ga(n,r.targetId)}).catch(Hi))):(Ga(n,r.targetId),yield Fa(n.localStore,r.targetId,!0))}),zC.apply(this,arguments)}function gV(t,e){return WC.apply(this,arguments)}function WC(){return WC=y(function*(t,e){const n=A(t);try{const r=yield zne(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield wi(n,r,e)}catch(r){yield Hi(r)}}),WC.apply(this,arguments)}function mV(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&BC(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sre(t,e,n){return KC.apply(this,arguments)}function KC(){return KC=y(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Re(S.comparator);o=o.insert(s,Le.newNoDocument(s,F.min()));const a=ee().add(s),u=new sl(F.min(),new Map,new Re(W),o,a);yield gV(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),t0(r)}else yield Fa(r.localStore,e,!1).then(()=>Ga(r,e,n)).catch(Hi)}),KC.apply(this,arguments)}function Ga(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||yV(t,r)})}function yV(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(wl(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),t0(t))}function e0(t,e,n){for(const r of n)r instanceof hV?(t.Ic.addReference(r.key,e),kre(t,r)):r instanceof fV?(C("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||yV(t,r.key)):O()}function kre(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(C("SyncEngine","New document in limbo: "+n),t.mc.add(r),t0(t))}function t0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new S(ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new Ere(n)),t.gc=t.gc.insert(n,r),Dp(t.remoteStore,new vi(dn(Sa(n.path)),r,"TargetPurposeLimboResolution",Ln.ct))}}function wi(t,e,n){return n0.apply(this,arguments)}function n0(){return n0=y(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=oC.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Gi(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),n0.apply(this,arguments)}function Rre(t,e){return r0.apply(this,arguments)}function r0(){return r0=y(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield q2(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wi(n,r.er)}var i}),r0.apply(this,arguments)}function Pre(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return ee().add(r.key);{let i=ee();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function h0(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sre.bind(null,e),e.dc.nu=yre.bind(null,e.eventManager),e.dc.Pc=_re.bind(null,e.eventManager),e}class Cp{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=_l(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function z2(t,e,n,r){return new Hne(t,e,n,r)}(this.persistence,new G2,e.initialUser,this.serializer)}createPersistence(e){return new nC(gp.zs,this.serializer)}createSharedClientState(e){return new eV}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class za{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Rre.bind(null,r.syncEngine),yield function PC(t,e){return NC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mre}createDatastore(e){const n=_l(e.databaseInfo.databaseId),r=new Xne(e.databaseInfo);return new nre(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>mV(this.syncEngine,a,0),o=tV.D()?new tV:new Qne,new sre(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Dre(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=A(n);C("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Va(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class bp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class qre{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=class WL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ite(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ja(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Sp(t,e){return p0.apply(this,arguments)}function p0(){return p0=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield q2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),p0.apply(this,arguments)}function g0(t,e){return m0.apply(this,arguments)}function m0(){return m0=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield y0(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>uV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>uV(e.remoteStore,s)),t._onlineComponents=e}),m0.apply(this,arguments)}function DV(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function y0(t){return _0.apply(this,arguments)}function _0(){return _0=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){C("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!DV(n))throw n;pr("Error using user provided cache. Falling back to memory cache: "+n),yield Sp(t,new Cp)}}else C("FirestoreClient","Using default OfflineComponentProvider"),yield Sp(t,new Cp);return t._offlineComponents}),_0.apply(this,arguments)}function Ap(t){return v0.apply(this,arguments)}function v0(){return v0=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(C("FirestoreClient","Using user provided OnlineComponentProvider"),yield g0(t,t._uninitializedComponentsProvider._online)):(C("FirestoreClient","Using default OnlineComponentProvider"),yield g0(t,new za))),t._onlineComponents}),v0.apply(this,arguments)}function qa(t){return I0.apply(this,arguments)}function I0(){return I0=y(function*(t){const e=yield Ap(t),n=e.eventManager;return n.onListen=Tre.bind(null,e.syncEngine),n.onUnlisten=Cre.bind(null,e.syncEngine),n}),I0.apply(this,arguments)}function xV(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const MV=new Map;function RV(t){if(S.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function he(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mp(t);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class NV{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function tie(t,e,n,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Il{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NV(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Xee;switch(n.type){case"firstParty":return new nte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=MV.get(e);n&&(C("ComponentProvider","Removing Datastore"),MV.delete(e),n.terminate())}(this),Promise.resolve()}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}}class Bt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bt(this.firestore,e,this._query)}}class jr extends Bt{constructor(e,n,r){super(e,n,Sa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new S(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function rie(t,e,...n){if(t=dr(t),function E0(t,e,n){if(!n)throw new T(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Il){const r=ge.fromString(e,...n);return RV(r),new jr(t,null,r)}{if(!(t instanceof ot||t instanceof jr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return RV(r),new jr(t.firestore,null,r)}}class sie{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mC(this,"async_queue_retry"),this.Xc=()=>{const n=Ep();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Ep();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Ep();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Dt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Gi(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,rt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=OC.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function D0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Fe extends Il{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LV(this),this._firestoreClient.terminate()}}function aie(t,e){const r="string"==typeof t?t:e||"(default)",i=Vh("object"==typeof t?t:UR(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Ph())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function nie(t,e,n,r={}){var i;const s=(t=he(t,Il))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Mt.MOCK_USER;else{a=function W9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kh(JSON.stringify({alg:"none",type:"JWT"})),kh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mt(c)}t._authCredentials=new Zee(new zL(a,u))}}(i,...s)}return i}function LV(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Rte(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new qre(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(Tt.fromBase64String(e))}catch(n){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class UV{constructor(e){this._methodName=e}}class T0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}}const cie=/^__.*__$/;function jV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class kp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Pp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(jV(this.ca)&&cie.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class die{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_l(e)}ya(e,n,r,i=!1){return new kp({ca:e,methodName:n,ga:r,path:it.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function so(t,e){if(WV(t=dr(t)))return function S0(t,e,n){if(!WV(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Mp(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}("Unsupported field value:",e,t),function qV(t,e){const n={};return aF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const s=so(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}(t,e);if(t instanceof UV)return function(n,r){if(!jV(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=so(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=dr(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return VF(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=qe.fromDate(n);return{timestampValue:Ra(r.serializer,i)}}if(n instanceof qe){const i=new qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ra(r.serializer,i)}}if(n instanceof T0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof io)return{bytesValue:s2(r.serializer,n._byteString)};if(n instanceof ot){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:GT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Mp(n)}`)}(t,e)}function WV(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof T0||t instanceof io||t instanceof ot||t instanceof UV)}const gie=new RegExp("[~\\*/\\[\\]]");function Pp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+t+u)}class A0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class mie extends A0{data(){return super.data()}}function Np(t,e){return"string"==typeof e?function Rp(t,e,n){if(e.search(gie)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wa(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}class x0{}class yie extends x0{}function _ie(t,e,...n){let r=[];e instanceof x0&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Qa).length,o=i.filter(a=>a instanceof Cl).length;if(s>1||s>0&&o>0)throw new T(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cl extends yie{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cl(e,n,r)}_apply(e){const n=this._parse(e);return ZV(e._query,n),new Bt(e.firestore,e.converter,PT(e._query,n))}_parse(e){const n=function Ka(t){const e=t._freezeSettings(),n=_l(t._databaseId);return new die(t._databaseId,!!e.ignoreUndefinedProperties,n)}(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new T(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){XV(l,c);const h=[];for(const f of l)h.push(JV(a,i,f));d={arrayValue:{values:h}}}else d=JV(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||XV(l,c),d=function zV(t,e,n,r=!1){return so(n,t.ya(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return le.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function vie(t,e,n){const r=e,i=Np("where",t);return Cl._create(i,r,n)}class Qa extends x0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qa(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ce.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)ZV(s,a),s=PT(s,a)}(e._query,n),new Bt(e.firestore,e.converter,PT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function JV(t,e,n){if("string"==typeof(n=dr(n))){if(""===n)throw new T(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RT(e)&&-1!==n.indexOf("/"))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!S.isDocumentKey(r))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qs(t,new S(r))}if(n instanceof ot)return qs(t,n._key);throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mp(n)}.`)}function XV(t,e){if(!Array.isArray(t)||0===t.length)throw new T(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZV(t,e){if(e.isInequality()){const r=tp(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new T(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=kT(t);null!==s&&function eU(t,e,n){if(!n.isEqual(e))throw new T(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new T(I.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends A0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vp extends Ya{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vp(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Vp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Eie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Eie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class rs extends class wie{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new T0(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=qi(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);L(g2(r));const i=new zs(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}!function(t,e=!0){Ia="9.23.0",un(new Wt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Fe(new ete(n.getProvider("auth-internal")),new rte(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),nt(GL,"3.13.0",t),nt(GL,"3.13.0","esm2017")}();var Oie={includeMetadataChanges:!1};function P0(t,e){return void 0===e&&(e=Oie),new Ue(function(n){var r=function Die(t,...e){var n,r,i;t=dr(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||D0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(D0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof ot)c=he(t.firestore,Fe),l=Sa(t._key.path),u={next:d=>{e[o]&&e[o](function R0(t,e,n){const r=n.docs.get(e._key),i=new rs(t);return new Ya(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=he(t,Bt);c=he(d.firestore,Fe),l=d._query;const h=new rs(c);u={next:f=>{e[o]&&e[o](new Ja(c,h,d,f))},error:e[o+1],complete:e[o+2]},function QV(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new bp(p),m=new jC(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function LC(t,e){return FC.apply(this,arguments)}(yield qa(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function VC(t,e){return UC.apply(this,arguments)}(yield qa(d),m)}))}}(function ft(t){return t._firestoreClient||LV(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function $ie(t,e){return void 0===e&&(e={}),function jie(t){return P0(t,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}(t).pipe(ce(function(n){return n.map(function(r){return function rU(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Bp{constructor(e){return e}}const aU="firestore",L0=new $("angularfire2.firestore-instances");function zie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bp(r)}}const qie={provide:class Hie{constructor(){return tI(aU)}},deps:[[new rn,L0]]},Wie={provide:Bp,useFactory:function Gie(t,e){const n=function eI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(aU,t,e);return n&&new Bp(n)},deps:[[new rn,L0],ca]};let Kie=(()=>{class t{constructor(){nt("angularfire",qw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({providers:[Wie,qie]}),t})();function Qie(t,...e){return{ngModule:Kie,providers:[{provide:L0,useFactory:zie(t),multi:!0,deps:[He,Mn,eN,tN,[new rn,sO],[new rn,SO],...e]}]}}const uU=ua($ie,!0),cU=ua(rie,!0),Yie=ua(aie,!0),lU=ua(_ie,!0),Jie=ua(vie,!0);let Sl=(()=>{class t{constructor(n){this.fireStore=n,this.playerRef=cU(this.fireStore,"players"),this.leagueRef=cU(this.fireStore,"league")}queryPlayers(n){return lU(this.playerRef,Jie("league","==",n))}queryLeagues(){return lU(this.leagueRef)}obtenerPlayers(n){return uU(this.queryPlayers(n))}obtenerLeagues(){return uU(this.queryLeagues())}}return t.\u0275fac=function(n){return new(n||t)(U(Bp))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function B(...t){return _t(t,au(t))}class mr extends Vn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const jp=su(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Xie}=Array,{getPrototypeOf:Zie,prototype:ese,keys:tse}=Object;const{isArray:ise}=Array;function dU(t){return ce(e=>function sse(t,e){return ise(e)?t(...e):t(e)}(t,e))}function $p(...t){const e=au(t),n=function vj(t){return ye(Dg(t))?t.pop():void 0}(t),{args:r,keys:i}=function nse(t){if(1===t.length){const e=t[0];if(Xie(e))return{args:e,keys:null};if(function rse(t){return t&&"object"==typeof t&&Zie(t)===ese}(e)){const n=tse(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return _t([],e);const s=new Ue(function ase(t,e,n=ls){return r=>{hU(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)hU(e,()=>{const c=_t(t[u],e);let l=!1;c.subscribe(mt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function ose(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):ls));return n?s.pipe(dU(n)):s}function hU(t,e,n){t?Gr(n,t,e):e()}function F0(...t){return function use(){return go(1)}()(_t(t,au(t)))}function fU(t){return new Ue(e=>{Yn(t()).subscribe(e)})}function Al(t,e){const n=ye(t)?t:()=>t,r=i=>i.error(n());return new Ue(e?i=>e.schedule(r,0,i):r)}function V0(){return gt((t,e)=>{let n=null;t._refCount++;const r=mt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class pU extends Ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Mb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;const n=this.getSubject();e.add(this.source.subscribe(mt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return V0()(this)}}function yr(t,e){return gt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(mt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Yn(t(u,l)).subscribe(i=mt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xl(t){return t<=0?()=>zr:gt((e,n)=>{let r=0;e.subscribe(mt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function is(t,e){return gt((n,r)=>{let i=0;n.subscribe(mt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Hp(t){return gt((e,n)=>{let r=!1;e.subscribe(mt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function gU(t=lse){return gt((e,n)=>{let r=!1;e.subscribe(mt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lse(){return new jp}function ss(t,e){const n=arguments.length>=2;return r=>r.pipe(t?is((i,s)=>t(i,s,r)):ls,xl(1),n?Hp(e):gU(()=>new jp))}function ao(t,e){return ye(e)?yt(t,e,1):yt(t,1)}function os(t){return gt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(mt(n,void 0,void 0,o=>{s=Yn(t(o,os(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dse(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(mt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function mU(t,e){return gt(dse(t,e,arguments.length>=2,!0))}function U0(t){return t<=0?()=>zr:gt((e,n)=>{let r=[];e.subscribe(mt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yU(t,e){const n=arguments.length>=2;return r=>r.pipe(t?is((i,s)=>t(i,s,r)):ls,U0(1),n?Hp(e):gU(()=>new jp))}function B0(t){return gt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const oe="primary",Ml=Symbol("RouteTitle");class pse{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Xa(t){return new pse(t)}function gse(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $r(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_U(t[i],e[i]))return!1;return!0}function _U(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function vU(t){return Array.prototype.concat.apply([],t)}function wU(t){return t.length>0?t[t.length-1]:null}function jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function as(t){return Qx(t)?t:Gd(t)?_t(Promise.resolve(t)):B(t)}const _se={exact:function DU(t,e,n){if(!co(t.segments,e.segments)||!Gp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!DU(t.children[r],e.children[r],n))return!1;return!0},subset:TU},IU={exact:function vse(t,e){return $r(t,e)},subset:function wse(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_U(t[n],e[n]))},ignored:()=>!0};function EU(t,e,n){return _se[n.paths](t.root,e.root,n.matrixParams)&&IU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function TU(t,e,n){return CU(t,e,e.segments,n)}function CU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!co(i,n)||e.hasChildren()||!Gp(i,n,r))}if(t.segments.length===n.length){if(!co(t.segments,n)||!Gp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!TU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(co(t.segments,i)&&Gp(t.segments,i,r)&&t.children[oe])&&CU(t.children[oe],e,s,r)}}function Gp(t,e,n){return e.every((r,i)=>IU[n](t[i].parameters,r.parameters))}class uo{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xa(this.queryParams)),this._queryParamMap}toString(){return Dse.serialize(this)}}class ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,jt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zp(this)}}class kl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Xa(this.parameters)),this._parameterMap}toString(){return xU(this)}}function co(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let bU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return new $0},providedIn:"root"}),t})();class $0{parse(e){const n=new Rse(e);return new uo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Rl(e.root,!0)}`,r=function bse(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${qp(n)}=${qp(i)}`).join("&"):`${qp(n)}=${qp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Tse(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Dse=new $0;function zp(t){return t.segments.map(e=>xU(e)).join("/")}function Rl(t,e){if(!t.hasChildren())return zp(t);if(e){const n=t.children[oe]?Rl(t.children[oe],!1):"",r=[];return jt(t.children,(i,s)=>{s!==oe&&r.push(`${s}:${Rl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ese(t,e){let n=[];return jt(t.children,(r,i)=>{i===oe&&(n=n.concat(e(r,i)))}),jt(t.children,(r,i)=>{i!==oe&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===oe?[Rl(t.children[oe],!1)]:[`${i}:${Rl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[oe]?`${zp(t)}/${n[0]}`:`${zp(t)}/(${n.join("//")})`}}function SU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qp(t){return SU(t).replace(/%3B/gi,";")}function H0(t){return SU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wp(t){return decodeURIComponent(t)}function AU(t){return Wp(t.replace(/\+/g,"%20"))}function xU(t){return`${H0(t.path)}${function Cse(t){return Object.keys(t).map(e=>`;${H0(e)}=${H0(t[e])}`).join("")}(t.parameters)}`}const Sse=/^[^\/()?;=#]+/;function Kp(t){const e=t.match(Sse);return e?e[0]:""}const Ase=/^[^=?&#]+/,Mse=/^[^&#]+/;class Rse{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new ae(e,n)),r}parseSegment(){const e=Kp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new kl(Wp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Kp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Kp(this.remaining);i&&(r=i,this.capture(r))}e[Wp(n)]=Wp(r)}parseQueryParam(e){const n=function xse(t){const e=t.match(Ase);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function kse(t){const e=t.match(Mse);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=AU(n),s=AU(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Kp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new N(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[oe]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}}function G0(t){return t.segments.length>0?new ae([],{[oe]:t}):t}function Qp(t){const e={};for(const r of Object.keys(t.children)){const s=Qp(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Pse(t){if(1===t.numberOfChildren&&t.children[oe]){const e=t.children[oe];return new ae(t.segments.concat(e.segments),e.children)}return t}(new ae(t.segments,e))}function lo(t){return t instanceof uo}function Lse(t,e,n,r,i){if(0===n.length)return Za(e.root,e.root,e.root,r,i);const s=function RU(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new kU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return jt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new kU(n,e,r)}(n);return s.toRoot()?Za(e.root,e.root,new ae([],{}),r,i):function o(u){const c=function Vse(t,e,n,r){if(t.isAbsolute)return new eu(e.root,!0,0);if(-1===r)return new eu(n,n===e.root,0);return function PU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new eu(r,!1,i-s)}(n,r+(Pl(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?Ol(c.segmentGroup,c.index,s.commands):q0(c.segmentGroup,c.index,s.commands);return Za(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Pl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nl(t){return"object"==typeof t&&null!=t&&t.outlets}function Za(t,e,n,r,i){let o,s={};r&&jt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:MU(t,e,n);const a=G0(Qp(o));return new uo(a,s,i)}function MU(t,e,n){const r={};return jt(t.children,(i,s)=>{r[s]=i===e?n:MU(i,e,n)}),new ae(t.segments,r)}class kU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pl(r[0]))throw new N(4003,!1);const i=r.find(Nl);if(i&&i!==wU(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eu{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function q0(t,e,n){if(t||(t=new ae([],{})),0===t.segments.length&&t.hasChildren())return Ol(t,e,n);const r=function Bse(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Nl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!OU(u,c,o))return s;r+=2}else{if(!OU(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[oe]=new ae(t.segments.slice(r.pathIndex),t.children),Ol(s,0,i)}return r.match&&0===i.length?new ae(t.segments,{}):r.match&&!t.hasChildren()?W0(t,e,n):r.match?Ol(t,0,i):W0(t,e,n)}function Ol(t,e,n){if(0===n.length)return new ae(t.segments,{});{const r=function Use(t){return Nl(t[0])?t[0].outlets:{[oe]:t}}(n),i={};return jt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=q0(t.children[o],e,s))}),jt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ae(t.segments,i)}}function W0(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Nl(s)){const u=jse(s.outlets);return new ae(r,u)}if(0===i&&Pl(n[0])){r.push(new kl(t.segments[e].path,NU(n[0]))),i++;continue}const o=Nl(s)?s.outlets[oe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Pl(a)?(r.push(new kl(o,NU(a))),i+=2):(r.push(new kl(o,{})),i++)}return new ae(r,{})}function jse(t){const e={};return jt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=W0(new ae([],{}),0,n))}),e}function NU(t){const e={};return jt(t,(n,r)=>e[r]=`${n}`),e}function OU(t,e,n){return t==n.path&&$r(e,n.parameters)}class Ii{constructor(e,n){this.id=e,this.url=n}}class K0 extends Ii{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ho extends Ii{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yp extends Ii{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class LU extends Ii{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $se extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hse extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gse extends Ii{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zse extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qse extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wse{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kse{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qse{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yse{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jse{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xse{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class VU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Q0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Q0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Y0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Y0(e,this._root).map(n=>n.value)}}function Q0(t,e){if(t===e.value)return e;for(const n of e.children){const r=Q0(t,n);if(r)return r}return null}function Y0(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Y0(t,n);if(r.length)return r.unshift(e),r}return[]}class Ei{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function tu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class UU extends VU{constructor(e,n){super(e),this.snapshot=n,J0(this,e)}toString(){return this.snapshot.toString()}}function BU(t,e){const n=function eoe(t,e){const o=new Jp([],{},{},"",{},oe,e,null,t.root,-1,{});return new $U("",new Ei(o,[]))}(t,e),r=new mr([new kl("",{})]),i=new mr({}),s=new mr({}),o=new mr({}),a=new mr(""),u=new fo(r,i,o,a,s,oe,e,n.root);return u.snapshot=n.root,new UU(new Ei(u,[]),n)}class fo{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ce(c=>c[Ml]))??B(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(e=>Xa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(e=>Xa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function toe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Jp{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Ml],this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $U extends VU{constructor(e,n){super(n),this.url=e,J0(this,n)}toString(){return HU(this._root)}}function J0(t,e){e.value._routerState=t,e.children.forEach(n=>J0(t,n))}function HU(t){const e=t.children.length>0?` { ${t.children.map(HU).join(", ")} } `:"";return`${t.value}${e}`}function X0(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$r(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$r(e.params,n.params)||t.params.next(n.params),function mse(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$r(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Z0(t,e){const n=$r(t.params,e.params)&&function Ise(t,e){return co(t,e)&&t.every((n,r)=>$r(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Z0(t.parent,e.parent))}function Ll(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function roe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ll(t,r,i);return Ll(t,r)})}(t,e,n);return new Ei(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ll(t,a)),o}}const r=function ioe(t){return new fo(new mr(t.url),new mr(t.params),new mr(t.queryParams),new mr(t.fragment),new mr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ll(t,s));return new Ei(r,i)}}const eb="ngNavigationCancelingError";function GU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function zU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[eb]=!0,r.cancellationCode=e,n&&(r.url=n),r}function qU(t){return WU(t)&&lo(t.url)}function WU(t){return t&&t[eb]}class soe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fl,this.attachRef=null}}let Fl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new soe,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xp=!1;let tb=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.name=i||oe,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,Xp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,Xp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,Xp);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new N(4013,Xp);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new ooe(n,a,i.injector);if(r&&function aoe(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(P(Fl),P(or),_u("name"),P(o_),P(xi))},t.\u0275dir=$t({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class ooe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fo?this.route:e===Fl?this.childContexts:this.parent.get(e,n)}}let nb=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Bn({type:t,selectors:[["ng-component"]],standalone:!0,features:[vM],decls:1,vars:0,template:function(n,r){1&n&&Rn(0,"router-outlet")},dependencies:[tb],encapsulation:2}),t})();function KU(t,e){return t.providers&&!t._injector&&(t._injector=Jd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ib(t){const e=t.children&&t.children.map(ib),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=nb),n}function Qn(t){return t.outlet||oe}function QU(t,e){const n=t.filter(r=>Qn(r)===e);return n.push(...t.filter(r=>Qn(r)!==e)),n}function Vl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class hoe{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),X0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=tu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),jt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=tu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=tu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=tu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xse(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yse(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(X0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),X0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Vl(i.snapshot),u=a?.get(Nu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class YU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zp{constructor(e,n){this.component=e,this.route=n}}function foe(t,e,n){const r=t._root;return Ul(r,e?e._root:null,n,[r.value])}function nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Oj(t){return null!==Xl(t)}(t)?e.get(t):t:r}function Ul(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=tu(e);return t.children.forEach(o=>{(function goe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function moe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!co(t.url,e.url);case"pathParamsOrQueryParamsChange":return!co(t.url,e.url)||!$r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z0(t,e)||!$r(t.queryParams,e.queryParams);default:return!Z0(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new YU(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ul(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zp(a.outlet.component,o))}else o&&Bl(e,a,i),i.canActivateChecks.push(new YU(r)),Ul(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),jt(s,(o,a)=>Bl(o,n.getContext(a),i)),i}function Bl(t,e,n){const r=tu(t),i=t.value;jt(r,(s,o)=>{Bl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Zp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function jl(t){return"function"==typeof t}function sb(t){return t instanceof jp||"EmptyError"===t?.name}const eg=Symbol("INITIAL_VALUE");function ru(){return yr(t=>$p(t.map(e=>e.pipe(xl(1),function cse(...t){const e=au(t);return gt((n,r)=>{(e?F0(t,n,e):F0(t,n)).subscribe(r)})}(eg)))).pipe(ce(e=>{for(const n of e)if(!0!==n){if(n===eg)return eg;if(!1===n||n instanceof uo)return n}return!0}),is(e=>e!==eg),xl(1)))}function JU(t){return function VB(...t){return Sb(t)}(Nt(e=>{if(lo(e))throw GU(0,e)}),ce(e=>!0===e))}const ob={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XU(t,e,n,r,i){const s=ab(t,e,n);return s.matched?function Poe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?B(i.map(o=>{const a=nu(o,t);return as(function Eoe(t){return t&&jl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),JU()):B(!0)}(r=KU(e,r),e,n).pipe(ce(o=>!0===o?s:{...ob})):B(s)}function ab(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ob}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gse)(n,t,e);if(!i)return{...ob};const s={};jt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function tg(t,e,n,r,i="corrected"){if(n.length>0&&function Loe(t,e,n){return n.some(r=>ng(t,e,r)&&Qn(r)!==oe)}(t,n,r)){const o=new ae(e,function Ooe(t,e,n,r){const i={};i[oe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Qn(s)!==oe){const o=new ae([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Qn(s)]=o}return i}(t,e,r,new ae(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Foe(t,e,n){return n.some(r=>ng(t,e,r))}(t,n,r)){const o=new ae(t.segments,function Noe(t,e,n,r,i,s){const o={};for(const a of r)if(ng(t,n,a)&&!i[Qn(a)]){const u=new ae([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Qn(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ae(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ng(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ZU(t,e,n,r){return!!(Qn(t)===r||r!==oe&&ng(e,n,t))&&("**"===t.path||ab(e,t,n).matched)}function eB(t,e,n){return 0===e.length&&!t.children[n]}const rg=!1;class ig{constructor(e){this.segmentGroup=e||null}}class tB{constructor(e){this.urlTree=e}}function $l(t){return Al(new ig(t))}function nB(t){return Al(new tB(t))}class joe{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=tg(this.urlTree.root,[],[],this.config).segmentGroup,n=new ae(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,oe).pipe(ce(s=>this.createUrlTree(Qp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(os(s=>{if(s instanceof tB)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ig?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,oe).pipe(ce(i=>this.createUrlTree(Qp(i),e.queryParams,e.fragment))).pipe(os(i=>{throw i instanceof ig?this.noMatchError(i):i}))}noMatchError(e){return new N(4002,rg)}createUrlTree(e,n,r){const i=G0(e);return new uo(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ce(s=>new ae([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return _t(i).pipe(ao(s=>{const o=r.children[s],a=QU(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ce(u=>({segment:u,outlet:s})))}),mU((s,o)=>(s[o.outlet]=o.segment,s),{}),yU())}expandSegment(e,n,r,i,s,o){return _t(r).pipe(ao(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(os(c=>{if(c instanceof ig)return B(null);throw c}))),ss(a=>!!a),os((a,u)=>{if(sb(a))return eB(n,i,s)?B(new ae([],{})):$l(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return ZU(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):$l(n):$l(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nB(s):this.lineralizeSegments(r,s).pipe(yt(o=>{const a=new ae(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=ab(n,i,s);if(!a)return $l(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?nB(d):this.lineralizeSegments(i,d).pipe(yt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=KU(r,e),r.loadChildren?(r._loadedRoutes?B({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ce(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ae(i,{})))):B(new ae(i,{}))):XU(n,r,i,e).pipe(yr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(yt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=tg(n,a,u,h),g=new ae(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ce(_=>new ae(a,_)));if(0===h.length&&0===p.length)return B(new ae(a,{}));const m=Qn(r)===s;return this.expandSegment(d,g,h,p,m?oe:s,!0).pipe(ce(E=>new ae(a.concat(E.segments),E.children)))})):$l(n)))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function Roe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(o=>{const a=nu(o,t);return as(function _oe(t){return t&&jl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),JU())}(e,n,r).pipe(yt(i=>i?this.configLoader.loadChildren(e,n).pipe(Nt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Uoe(t){return Al(zU(rg,3))}())):B({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[oe])return Al(new N(4e3,rg));i=i.children[oe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new uo(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return jt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return jt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new N(4001,rg);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class Hoe{}class qoe{constructor(e,n,r,i,s,o,a,u){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=tg(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,oe).pipe(ce(n=>{if(null===n)return null;const r=new Jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ei(r,n),s=new $U(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=jU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return _t(Object.keys(r.children)).pipe(ao(i=>{const s=r.children[i],o=QU(n,i);return this.processSegmentGroup(e,o,s,i)}),mU((i,s)=>i&&s?(i.push(...s),i):null),function hse(t,e=!1){return gt((n,r)=>{let i=0;n.subscribe(mt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Hp(null),yU(),ce(i=>{if(null===i)return null;const s=rB(i);return function Woe(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return _t(n).pipe(ao(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ss(o=>!!o),os(o=>{if(sb(o))return eB(r,i,s)?B([]):B(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!ZU(n,r,i,s))return B(null);let o;if("**"===n.path){const a=i.length>0?wU(i).parameters:{},u=sB(r)+i.length;o=B({snapshot:new Jp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aB(n),Qn(n),n.component??n._loadedComponent??null,n,iB(r),u,uB(n),u),consumedSegments:[],remainingSegments:[]})}else o=XU(r,n,i,e).pipe(ce(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=sB(r)+u.length;return{snapshot:new Jp(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aB(n),Qn(n),n.component??n._loadedComponent??null,n,iB(r),d,uB(n),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(yr(a=>{if(null===a)return B(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Koe(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=tg(r,c,l,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ce(m=>null===m?null:[new Ei(u,m)]));if(0===h.length&&0===p.length)return B([new Ei(u,[])]);const g=Qn(n)===s;return this.processSegment(d,h,f,p,g?oe:s).pipe(ce(m=>null===m?null:[new Ei(u,m)]))}))}}function Qoe(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rB(t){const e=[],n=new Set;for(const r of t){if(!Qoe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=rB(r.children);e.push(new Ei(r.value,i))}return e.filter(r=>!n.has(r))}function iB(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sB(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function aB(t){return t.data||{}}function uB(t){return t.resolve||{}}function cB(t){return"string"==typeof t.title||null===t.title}function ub(t){return yr(e=>{const n=t(e);return n?_t(n).pipe(ce(()=>e)):B(e)})}let lB=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[Ml]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return Ke(dB)},providedIn:"root"}),t})(),dB=(()=>{class t extends lB{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(U(IR))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class rae{}class sae extends class iae{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const og=new $("",{providedIn:"root",factory:()=>({})}),cb=new $("ROUTES");let lb=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=as(n.loadComponent()).pipe(Nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),B0(()=>{this.componentLoaders.delete(n)})),i=new pU(r,()=>new Vn).pipe(V0());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ce(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=vU(u.get(cb,[],H.Self|H.Optional)));return{routes:c.map(ib),injector:u}}),B0(()=>{this.childrenLoaders.delete(r)})),o=new pU(s,()=>new Vn).pipe(V0());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return as(n()).pipe(yt(r=>r instanceof yM||Array.isArray(r)?B(r):_t(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(U(Mn),U(Jy))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class aae{}class uae{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function cae(t){throw t}function lae(t,e,n){return e.parse("/")}const dae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function fB(){const t=Ke(bU),e=Ke(Fl),n=Ke(f_),r=Ke(Mn),i=Ke(Jy),s=Ke(cb,{optional:!0})??[],o=Ke(og,{optional:!0})??{},a=Ke(dB),u=Ke(lB,{optional:!0}),c=Ke(aae,{optional:!0}),l=Ke(rae,{optional:!0}),d=new pt(null,t,e,n,r,i,vU(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function fae(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let pt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vn,this.errorHandler=cae,this.malformedUriErrorHandler=lae,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>B(void 0),this.urlHandlingStrategy=new uae,this.routeReuseStrategy=new sae,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(lb),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new Kse(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new Wse(h)),this.ngModule=o.get(Es),this.console=o.get(yW);const d=o.get(He);this.isNgZoneEnabled=d instanceof He&&He.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function yse(){return new uo(new ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=BU(this.currentUrlTree,this.rootComponentType),this.transitions=new mr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(is(i=>0!==i.id),ce(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),yr(i=>{let s=!1,o=!1;return B(i).pipe(Nt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pB(a.source)&&(this.browserUrlTree=a.extractedUrl),B(a).pipe(yr(d=>{const h=this.transitions.getValue();return r.next(new K0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?zr:Promise.resolve(d)}),function $oe(t,e,n,r){return yr(i=>function Boe(t,e,n,r,i){return new joe(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ce(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Nt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Joe(t,e,n,r,i,s){return yt(o=>function zoe(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new qoe(t,e,n,r,i,o,a,s).recognize().pipe(yr(u=>null===u?function Goe(t){return new Ue(e=>e.error(t))}(new Hoe):B(u)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ce(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Nt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new $se(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,w=new K0(h,this.serializeUrl(f),p,g);r.next(w);const E=BU(f,this.rootComponentType).snapshot;return B(i={...a,targetSnapshot:E,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),zr}),Nt(a=>{const u=new Hse(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ce(a=>i={...a,guards:foe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Toe(t,e){return yt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?B({...n,guardsResult:!0}):function Coe(t,e,n,r){return _t(t).pipe(yt(i=>function koe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?B(s.map(a=>{const u=Vl(e)??i,c=nu(a,u);return as(function Ioe(t){return t&&jl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(ss())})).pipe(ru()):B(!0)}(i.component,i.route,n,e,r)),ss(i=>!0!==i,!0))}(o,r,i,t).pipe(yt(a=>a&&function yoe(t){return"boolean"==typeof t}(a)?function boe(t,e,n,r){return _t(e).pipe(ao(i=>F0(function Aoe(t,e){return null!==t&&e&&e(new Qse(t)),B(!0)}(i.route.parent,r),function Soe(t,e){return null!==t&&e&&e(new Jse(t)),B(!0)}(i.route,r),function Moe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function poe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>fU(()=>B(o.guards.map(u=>{const c=Vl(o.node)??n,l=nu(u,c);return as(function woe(t){return t&&jl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(ss())})).pipe(ru())));return B(s).pipe(ru())}(t,i.path,n),function xoe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(s=>fU(()=>{const o=Vl(e)??n,a=nu(s,o);return as(function voe(t){return t&&jl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(ss())}));return B(i).pipe(ru())}(t,i.route,n))),ss(i=>!0!==i,!0))}(r,s,t,e):B(a)),ce(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Nt(a=>{if(i.guardsResult=a.guardsResult,lo(a.guardsResult))throw GU(0,a.guardsResult);const u=new Gse(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),is(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),ub(a=>{if(a.guards.canActivateChecks.length)return B(a).pipe(Nt(u=>{const c=new zse(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),yr(u=>{let c=!1;return B(u).pipe(function Xoe(t,e){return yt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let s=0;return _t(i).pipe(ao(o=>function Zoe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!cB(i)&&(s[Ml]=i.title),function eae(t,e,n,r){const i=function tae(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return B({});const s={};return _t(i).pipe(yt(o=>function nae(t,e,n,r){const i=Vl(e)??r,s=nu(t,i);return as(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(ss(),Nt(a=>{s[o]=a}))),U0(1),function fse(t){return ce(()=>t)}(s),os(o=>sb(o)?zr:Al(o)))}(s,t,e,r).pipe(ce(o=>(t._resolvedData=o,t.data=jU(t,n).resolve,i&&cB(i)&&(t.data[Ml]=i.title),null)))}(o.route,r,t,e)),Nt(()=>s++),U0(1),yt(o=>s===i.length?B(n):zr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Nt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Nt(u=>{const c=new qse(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),ub(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Nt(d=>{c.component=d}),ce(()=>{})));for(const d of c.children)l.push(...u(d));return l};return $p(u(a.targetSnapshot.root)).pipe(Hp(),xl(1))}),ub(()=>this.afterPreactivation()),ce(a=>{const u=function noe(t,e,n){const r=Ll(t,e._root,n?n._root:void 0);return new UU(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),Nt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ce(r=>(new hoe(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Nt({next(){s=!0},complete(){s=!0}}),B0(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),os(a=>{if(o=!0,WU(a)){qU(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Yp(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),qU(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pB(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new LU(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return zr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(ib),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),Lse(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=lo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function pae(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new N(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...dae}:!1===r?{...hae}:r,lo(n))return EU(this.currentUrlTree,n,i);const s=this.parseUrl(n);return EU(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new ho(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new Yp(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Ym()},t.\u0275prov=J({token:t,factory:function(){return fB()},providedIn:"root"}),t})();function pB(t){return"imperative"!==t}let ug=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Vn,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=na(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=na(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=na(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(P(pt),P(fo),_u("tabindex"),P(kd),P(Dr))},t.\u0275dir=$t({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Yo("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[wr]}),t})();class gB{}let yae=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(is(n=>n instanceof ho),ao(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Jd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return _t(i).pipe(go())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):B(null);const s=i.pipe(yt(o=>null===o?B(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?_t([s,this.loader.loadComponent(r)]).pipe(go()):s})}}return t.\u0275fac=function(n){return new(n||t)(U(pt),U(Jy),U(xi),U(gB),U(lb))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hb=new $("");let mB=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof K0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ho&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof FU&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new FU(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Ym()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function iu(t,e){return{\u0275kind:t,\u0275providers:e}}function fb(t){return[{provide:cb,multi:!0,useValue:t}]}function _B(){const t=Ke(Mn);return e=>{const n=t.get(uh);if(e!==n.components[0])return;const r=t.get(pt),i=t.get(vB);1===t.get(pb)&&r.initialNavigation(),t.get(wB,null,H.Optional)?.setUpPreloading(),t.get(hb,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const vB=new $("",{factory:()=>new Vn}),pb=new $("",{providedIn:"root",factory:()=>1});const wB=new $("");function Iae(t){return iu(0,[{provide:wB,useExisting:yae},{provide:gB,useExisting:t}])}const IB=new $("ROUTER_FORROOT_GUARD"),Eae=[f_,{provide:bU,useClass:$0},{provide:pt,useFactory:fB},Fl,{provide:fo,useFactory:function yB(t){return t.routerState.root},deps:[pt]},lb];function Dae(){return new fk("Router",pt)}let EB=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Eae,[],fb(n),{provide:IB,useFactory:Sae,deps:[[pt,new rn,new Cu]]},{provide:og,useValue:r||{}},r?.useHash?{provide:Ts,useClass:s6}:{provide:Ts,useClass:Vk},{provide:hb,useFactory:()=>{const t=Ke(pt),e=Ke(b5),n=Ke(og);return n.scrollOffset&&e.setOffset(n.scrollOffset),new mB(t,e,n)}},r?.preloadingStrategy?Iae(r.preloadingStrategy).\u0275providers:[],{provide:fk,multi:!0,useFactory:Dae},r?.initialNavigation?Aae(r):[],[{provide:DB,useFactory:_B},{provide:ok,multi:!0,useExisting:DB}]]}}static forChild(n){return{ngModule:t,providers:[fb(n)]}}}return t.\u0275fac=function(n){return new(n||t)(U(IB,8))},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({imports:[nb]}),t})();function Sae(t){return"guarded"}function Aae(t){return["disabled"===t.initialNavigation?iu(3,[{provide:ih,multi:!0,useFactory:()=>{const e=Ke(pt);return()=>{e.setUpLocationChangeListener()}}},{provide:pb,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?iu(2,[{provide:pb,useValue:0},{provide:ih,multi:!0,deps:[Mn],useFactory:e=>{const n=e.get(r6,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(s=>{const o=e.get(pt),a=e.get(vB);(function i(s){e.get(pt).events.pipe(is(a=>a instanceof ho||a instanceof Yp||a instanceof LU),ce(a=>a instanceof ho||a instanceof Yp&&(0===a.code||1===a.code)&&null),is(a=>null!==a),xl(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?B(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const DB=new $("");let Mae=(()=>{class t{constructor(n,r){this.playersService=n,this.router=r,this.title="uefa_players",this.players=[],this.playersService.obtenerLeagues().subscribe(i=>{this.ligas=i})}mostrarJUgadores(n){this.playersService.ligaActual=n,this.router.navigate(["/player-panel",n])}}return t.\u0275fac=function(n){return new(n||t)(P(Sl),P(pt))},t.\u0275cmp=Bn({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&(se(0,"div"),Rn(1,"router-outlet"),ie())},dependencies:[tb]}),t})();const TB_firebase={projectId:"top-5-leagues---soccer",appId:"1:953463094589:web:a9445e9a13b667b5649954",storageBucket:"top-5-leagues---soccer.appspot.com",apiKey:"AIzaSyDt-QGAtonBZ3Ov7vx7EJwYcrL_ivdykhk",authDomain:"top-5-leagues---soccer.firebaseapp.com",messagingSenderId:"953463094589",measurementId:"G-HD527YH92V"};function kae(t,e){if(1&t){const n=Cy();se(0,"div",5)(1,"div",6)(2,"div",7),Yo("click",function(){const s=$g(n).$implicit;return Hg(Gn().mostrarPlayer(s))}),Me(3),ie()()()}if(2&t){const n=e.$implicit;pe(3),ju(" ",n.name," ")}}const Rae=function(t){return["/estadistica",t]};let Pae=(()=>{class t{constructor(n,r){this.playersService=n,this.router=r,this.players=[]}ngOnInit(){this.liga_Actual=this.playersService.ligaActual||JSON.parse(localStorage.getItem("liga_actual")),this.playersService.obtenerPlayers(this.liga_Actual).subscribe(n=>{this.players=n})}mostrarPlayer(n){localStorage.setItem("actual_player",JSON.stringify(n)),this.playersService.jugadorActual=n,this.router.navigate(["player-card"])}}return t.\u0275fac=function(n){return new(n||t)(P(Sl),P(pt))},t.\u0275cmp=Bn({type:t,selectors:[["app-root"]],decls:9,vars:5,consts:[[1,"container","panel_backgorund"],[1,"text-white"],[1,"badge","bg-secondary","cursor_pointer",3,"routerLink"],[1,"row","d-flex","justify-content-center","mt-5"],["class","col-4 mt-5 image_container",4,"ngFor","ngForOf"],[1,"col-4","mt-5","image_container"],[1,"card","cursor_pointer"],[1,"card-body","text-center",3,"click"]],template:function(n,r){1&n&&(se(0,"div",0)(1,"h1",1),Me(2),se(3,"span",2),Me(4,"Estadisticas"),ie()(),se(5,"div",3)(6,"h2",1),Me(7,"Jugadores"),ie(),Ee(8,kae,4,1,"div",4),ie()()),2&n&&(pe(2),ju("",r.liga_Actual," "),pe(1),re("routerLink",bM(3,Rae,r.liga_Actual)),pe(5),re("ngForOf",r.players))},dependencies:[Dh,ug],styles:[".panel_backgorund[_ngcontent-%COMP%]{background-image:url(wallpaper_uefa.6cf0fe014d6c9a37.jpg)}.cursor_pointer[_ngcontent-%COMP%]{cursor:pointer}.cursor_pointer[_ngcontent-%COMP%]:hover{background-color:gray;color:#fff}"]}),t})();function Nae(t,e){if(1&t){const n=Cy();se(0,"div",4),Yo("click",function(){const s=$g(n).$implicit;return Hg(Gn().mostrarJUgadores(s.name))}),Rn(1,"img",5),ie()}if(2&t){const n=e.$implicit;pe(1),zd("src",n.image_url,Ad),zd("alt",n.name)}}let Oae=(()=>{class t{constructor(n,r){this.playersService=n,this.router=r,this.players=[],this.playersService.obtenerLeagues().subscribe(i=>{this.ligas=i})}ngOnInit(){throw new Error("Method not implemented.")}mostrarJUgadores(n){localStorage.setItem("liga_actual",JSON.stringify(n)),this.playersService.ligaActual=n,this.router.navigate(["/player-panel",n])}}return t.\u0275fac=function(n){return new(n||t)(P(Sl),P(pt))},t.\u0275cmp=Bn({type:t,selectors:[["app-main-component"]],decls:5,vars:1,consts:[[1,"container"],[1,"mt-4"],[1,"row","d-flex","justify-content-center","mt-4"],["class","col-4 mt-5 image_container",3,"click",4,"ngFor","ngForOf"],[1,"col-4","mt-5","image_container",3,"click"],[1,"image_size",3,"src","alt"]],template:function(n,r){1&n&&(se(0,"div",0)(1,"h1",1),Me(2,"Ligas top5 de la UEFA"),ie(),se(3,"div",2),Ee(4,Nae,2,2,"div",3),ie()()),2&n&&(pe(4),re("ngForOf",r.ligas))},dependencies:[Dh],styles:[".image_size[_ngcontent-%COMP%]{height:130px;width:130px}.image_size[_ngcontent-%COMP%]:hover{height:200px;width:200px;position:sticky;z-index:99;cursor:pointer}"]}),t})();function Lae(t,e){1&t&&(se(0,"div",5),Me(1,"Precio"),ie())}function Fae(t,e){1&t&&(se(0,"div",5),Me(1,"Agente del Jugador"),ie())}function Vae(t,e){1&t&&(se(0,"div",5),Me(1,"Fecha de union al Club"),ie())}function Uae(t,e){1&t&&(se(0,"div",5),Me(1,"Precio Maximo"),ie())}function Bae(t,e){1&t&&(se(0,"div",5),Me(1,"Liga"),ie())}function jae(t,e){1&t&&(se(0,"div",5),Me(1,"Fecha de expiracion de contrato"),ie())}function $ae(t,e){1&t&&(se(0,"div",5),Me(1,"Posicion"),ie())}function Hae(t,e){1&t&&(se(0,"div",5),Me(1,"Altura"),ie())}function Gae(t,e){1&t&&(se(0,"div",5),Me(1,"Nombre Completo"),ie())}function zae(t,e){1&t&&(se(0,"div",5),Me(1,"Nacionalidad"),ie())}function qae(t,e){1&t&&(se(0,"div",5),Me(1,"Numero de Camiseta"),ie())}function Wae(t,e){1&t&&(se(0,"div",5),Me(1,"Sponsor de vestimenta"),ie())}function Kae(t,e){1&t&&(se(0,"div",5),Me(1,"Nombre"),ie())}function Qae(t,e){1&t&&(se(0,"div",5),Me(1,"Club"),ie())}function Yae(t,e){1&t&&(se(0,"div",5),Me(1,"Pie Dominante"),ie())}function Jae(t,e){1&t&&(se(0,"div",5),Me(1,"Lugar De Nacimiento"),ie())}function Xae(t,e){1&t&&(se(0,"div",5),Me(1,"Edad"),ie())}function Zae(t,e){if(1&t&&(se(0,"div",5),Me(1),ie()),2&t){const n=Gn().$implicit;pe(1),Ay(n[1])}}function eue(t,e){if(1&t&&(se(0,"div",3),Ee(1,Lae,2,0,"div",4),Ee(2,Fae,2,0,"div",4),Ee(3,Vae,2,0,"div",4),Ee(4,Uae,2,0,"div",4),Ee(5,Bae,2,0,"div",4),Ee(6,jae,2,0,"div",4),Ee(7,$ae,2,0,"div",4),Ee(8,Hae,2,0,"div",4),Ee(9,Gae,2,0,"div",4),Ee(10,zae,2,0,"div",4),Ee(11,qae,2,0,"div",4),Ee(12,Wae,2,0,"div",4),Ee(13,Kae,2,0,"div",4),Ee(14,Qae,2,0,"div",4),Ee(15,Yae,2,0,"div",4),Ee(16,Jae,2,0,"div",4),Ee(17,Xae,2,0,"div",4),Ee(18,Zae,2,1,"div",4),ie()),2&t){const n=e.$implicit;pe(1),re("ngIf","id"!==n[0]&&"price"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"player_agent"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"joined_club"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"max_price"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"league"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"contract_expires"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"position"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"height"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"full_name"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"nationality"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"shirt_nr"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"outfitter"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"name"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"club"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"foot"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"place_of_birth"===n[0]),pe(1),re("ngIf","id"!==n[0]&&"age"===n[0]),pe(1),re("ngIf","id"!==n[0])}}let tue=(()=>{class t{constructor(n){this.playersService=n,this.jugador=this.playersService.jugadorActual||JSON.parse(localStorage.getItem("actual_player")),this.keys=Object.entries(this.jugador)}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(P(Sl))},t.\u0275cmp=Bn({type:t,selectors:[["app-player-card"]],decls:4,vars:1,consts:[[1,"container","mt-5","background"],[1,"text-center"],["class","row mt-5 mb-5",4,"ngFor","ngForOf"],[1,"row","mt-5","mb-5"],["class","col-6 justify-content-center",4,"ngIf"],[1,"col-6","justify-content-center"]],template:function(n,r){1&n&&(se(0,"div",0)(1,"h1",1),Me(2,"Datos del jugador"),ie(),Ee(3,eue,19,18,"div",2),ie()),2&n&&(pe(3),re("ngForOf",r.keys))},dependencies:[Dh,Th],styles:[".background[_ngcontent-%COMP%]{background-image:url(vecteezy_shadow-of-running-football-player_7523303.f5e0969e3111dd42.jpg);color:gray}"]}),t})();class CB extends Vn{constructor(e=1/0,n=1/0,r=zw){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}const nue=["addListener","removeListener"],rue=["addEventListener","removeEventListener"],iue=["on","off"];function gb(t,e,n,r){if(ye(n)&&(r=n,n=void 0),r)return gb(t,e,n).pipe(dU(r));const[i,s]=function aue(t){return ye(t.addEventListener)&&ye(t.removeEventListener)}(t)?rue.map(o=>a=>t[o](e,a,n)):function sue(t){return ye(t.addListener)&&ye(t.removeListener)}(t)?nue.map(bB(t,e)):function oue(t){return ye(t.on)&&ye(t.off)}(t)?iue.map(bB(t,e)):[];if(!i&&Eg(t))return yt(o=>gb(o,e,n))(Yn(t));if(!i)throw new TypeError("Invalid event target");return new Ue(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function bB(t,e){return n=>r=>t[n](e,r)}const cue=["*"];var we=(()=>(function(t){t.AnnotationChart="AnnotationChart",t.AreaChart="AreaChart",t.Bar="Bar",t.BarChart="BarChart",t.BubbleChart="BubbleChart",t.Calendar="Calendar",t.CandlestickChart="CandlestickChart",t.ColumnChart="ColumnChart",t.ComboChart="ComboChart",t.PieChart="PieChart",t.Gantt="Gantt",t.Gauge="Gauge",t.GeoChart="GeoChart",t.Histogram="Histogram",t.Line="Line",t.LineChart="LineChart",t.Map="Map",t.OrgChart="OrgChart",t.Sankey="Sankey",t.Scatter="Scatter",t.ScatterChart="ScatterChart",t.SteppedAreaChart="SteppedAreaChart",t.Table="Table",t.Timeline="Timeline",t.TreeMap="TreeMap",t.WordTree="wordtree"}(we||(we={})),we))();const lue={[we.AnnotationChart]:"annotationchart",[we.AreaChart]:"corechart",[we.Bar]:"bar",[we.BarChart]:"corechart",[we.BubbleChart]:"corechart",[we.Calendar]:"calendar",[we.CandlestickChart]:"corechart",[we.ColumnChart]:"corechart",[we.ComboChart]:"corechart",[we.PieChart]:"corechart",[we.Gantt]:"gantt",[we.Gauge]:"gauge",[we.GeoChart]:"geochart",[we.Histogram]:"corechart",[we.Line]:"line",[we.LineChart]:"corechart",[we.Map]:"map",[we.OrgChart]:"orgchart",[we.Sankey]:"sankey",[we.Scatter]:"scatter",[we.ScatterChart]:"corechart",[we.SteppedAreaChart]:"corechart",[we.Table]:"table",[we.Timeline]:"timeline",[we.TreeMap]:"treemap",[we.WordTree]:"wordtree"},AB=new $("GOOGLE_CHARTS_CONFIG"),hue=new $("GOOGLE_CHARTS_LAZY_CONFIG",{providedIn:"root",factory:()=>B({version:"current",safeMode:!1,...Ke(AB,H.Optional)||{}})});let dg=(()=>{class t{constructor(n,r,i){this.zone=n,this.localeId=r,this.config$=i,this.scriptSource="https://www.gstatic.com/charts/loader.js",this.scriptLoadSubject=new Vn}isGoogleChartsAvailable(){return!(typeof google>"u"||typeof google.charts>"u")}loadChartPackages(...n){return this.loadGoogleCharts().pipe(yt(()=>this.config$),ce(r=>({version:"current",safeMode:!1,...r||{}})),yr(r=>new Ue(i=>{google.charts.load(r.version,{packages:n,language:this.localeId,mapsApiKey:r.mapsApiKey,safeMode:r.safeMode}),google.charts.setOnLoadCallback(()=>{this.zone.run(()=>{i.next(),i.complete()})})})))}loadGoogleCharts(){if(this.isGoogleChartsAvailable())return B(void 0);if(!this.isLoadingGoogleCharts()){const n=this.createGoogleChartsScript();n.onload=()=>{this.zone.run(()=>{this.scriptLoadSubject.next(),this.scriptLoadSubject.complete()})},n.onerror=()=>{this.zone.run(()=>{console.error("Failed to load the google charts script!"),this.scriptLoadSubject.error(new Error("Failed to load the google charts script!"))})}}return this.scriptLoadSubject.asObservable()}isLoadingGoogleCharts(){return null!=this.getGoogleChartsScript()}getGoogleChartsScript(){return Array.from(document.getElementsByTagName("script")).find(r=>r.src===this.scriptSource)}createGoogleChartsScript(){const n=document.createElement("script");return n.type="text/javascript",n.src=this.scriptSource,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n),n}}return t.\u0275fac=function(n){return new(n||t)(U(He),U(Ar),U(hue))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),xB=(()=>{class t{create(n,r,i){if(null==n)return;let s=!0;null!=r&&(s=!1);const o=google.visualization.arrayToDataTable(this.getDataAsTable(n,r),s);return i&&this.applyFormatters(o,i),o}getDataAsTable(n,r){return r?[r,...n]:n}applyFormatters(n,r){for(const i of r)i.formatter.format(n,i.colIndex)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pue=(()=>{class t{constructor(n){this.loaderService=n,this.error=new Pe,this.ready=new Pe,this.stateChange=new Pe,this.id=function fue(){return"_"+Math.random().toString(36).substr(2,9)}(),this.wrapperReadySubject=new CB(1)}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get controlWrapper(){if(!this._controlWrapper)throw new Error("Cannot access the control wrapper before it being initialized.");return this._controlWrapper}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.createControlWrapper()})}ngOnChanges(n){!this._controlWrapper||(n.type&&this._controlWrapper.setControlType(this.type),n.options&&this._controlWrapper.setOptions(this.options||{}),n.state&&this._controlWrapper.setState(this.state||{}))}createControlWrapper(){this._controlWrapper=new google.visualization.ControlWrapper({containerId:this.id,controlType:this.type,state:this.state,options:this.options}),this.addEventListeners(),this.wrapperReadySubject.next(this._controlWrapper)}addEventListeners(){google.visualization.events.removeAllListeners(this._controlWrapper),google.visualization.events.addListener(this._controlWrapper,"ready",n=>this.ready.emit(n)),google.visualization.events.addListener(this._controlWrapper,"error",n=>this.error.emit(n)),google.visualization.events.addListener(this._controlWrapper,"statechange",n=>this.stateChange.emit(n))}}return t.\u0275fac=function(n){return new(n||t)(P(dg))},t.\u0275cmp=Bn({type:t,selectors:[["control-wrapper"]],hostAttrs:[1,"control-wrapper"],hostVars:1,hostBindings:function(n,r){2&n&&xy("id",r.id)},inputs:{for:"for",type:"type",options:"options",state:"state"},outputs:{error:"error",ready:"ready",stateChange:"stateChange"},exportAs:["controlWrapper"],features:[wr],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0}),t})(),gue=(()=>{class t{constructor(n,r,i){this.element=n,this.loaderService=r,this.dataTableService=i,this.ready=new Pe,this.error=new Pe,this.initialized=!1}ngOnInit(){this.loaderService.loadChartPackages("controls").subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.createDashboard(),this.initialized=!0})}ngOnChanges(n){!this.initialized||(n.data||n.columns||n.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.dashboard.draw(this.dataTable))}createDashboard(){const n=this.controlWrappers.map(i=>i.wrapperReady$),r=this.controlWrappers.map(i=>i.for).map(i=>Array.isArray(i)?$p(i.map(s=>s.wrapperReady$)):i.wrapperReady$);$p([...n,...r]).subscribe(()=>{this.dashboard=new google.visualization.Dashboard(this.element.nativeElement),this.initializeBindings(),this.registerEvents(),this.dashboard.draw(this.dataTable)})}registerEvents(){google.visualization.events.removeAllListeners(this.dashboard);const n=(r,i,s)=>{google.visualization.events.addListener(r,i,s)};n(this.dashboard,"ready",()=>this.ready.emit()),n(this.dashboard,"error",r=>this.error.emit(r))}initializeBindings(){this.controlWrappers.forEach(n=>{if(Array.isArray(n.for)){const r=n.for.map(i=>i.chartWrapper);this.dashboard.bind(n.controlWrapper,r)}else this.dashboard.bind(n.controlWrapper,n.for.chartWrapper)})}}return t.\u0275fac=function(n){return new(n||t)(P(Dr),P(dg),P(xB))},t.\u0275cmp=Bn({type:t,selectors:[["dashboard"]],contentQueries:function(n,r,i){if(1&n&&eh(i,pue,4),2&n){let s;Zd(s=function th(){return function Qq(t,e){return t[19].queries[e].queryList}(D(),dS())}())&&(r.controlWrappers=s)}},hostAttrs:[1,"dashboard"],inputs:{data:"data",columns:"columns",formatters:"formatters"},outputs:{ready:"ready",error:"error"},exportAs:["dashboard"],features:[wr],ngContentSelectors:cue,decls:1,vars:0,template:function(n,r){1&n&&(function e1(t){const e=D()[16][6];if(!e.projection){const r=e.projection=Iu(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?Tz(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function t1(t,e=0,n){const r=D(),i=fe(),s=Uo(i,22+t,16,null,n||null);null===s.projection&&(s.projection=e),zg(),64!=(64&s.flags)&&function $4(t,e,n){mA(e[11],0,e,n,aA(t,n,e),dA(n.parent||e[6],n,e))}(i,r,s)}(0))},encapsulation:2,changeDetection:0}),t})(),mue=(()=>{class t{constructor(n,r,i,s){this.element=n,this.scriptLoaderService=r,this.dataTableService=i,this.dashboard=s,this.options={},this.dynamicResize=!1,this.ready=new Pe,this.error=new Pe,this.select=new Pe,this.mouseover=new Pe,this.mouseleave=new Pe,this.wrapperReadySubject=new CB(1),this.initialized=!1,this.eventListeners=new Map}get chart(){return this.chartWrapper.getChart()}get wrapperReady$(){return this.wrapperReadySubject.asObservable()}get chartWrapper(){if(!this.wrapper)throw new Error("Trying to access the chart wrapper before it was fully initialized");return this.wrapper}set chartWrapper(n){this.wrapper=n,this.drawChart()}ngOnInit(){this.scriptLoaderService.loadChartPackages(function due(t){return lue[t]}(this.type)).subscribe(()=>{this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper=new google.visualization.ChartWrapper({container:this.element.nativeElement,chartType:this.type,dataTable:this.dataTable,options:this.mergeOptions()}),this.registerChartEvents(),this.wrapperReadySubject.next(this.wrapper),this.initialized=!0,this.drawChart()})}ngOnChanges(n){if(n.dynamicResize&&this.updateResizeListener(),this.initialized){let r=!1;(n.data||n.columns||n.formatters)&&(this.dataTable=this.dataTableService.create(this.data,this.columns,this.formatters),this.wrapper.setDataTable(this.dataTable),r=!0),n.type&&(this.wrapper.setChartType(this.type),r=!0),(n.options||n.width||n.height||n.title)&&(this.wrapper.setOptions(this.mergeOptions()),r=!0),r&&this.drawChart()}}ngOnDestroy(){this.unsubscribeToResizeIfSubscribed()}addEventListener(n,r){const i=this.registerChartEvent(this.chart,n,r);return this.eventListeners.set(i,{eventName:n,callback:r,handle:i}),i}removeEventListener(n){const r=this.eventListeners.get(n);r&&(google.visualization.events.removeListener(r.handle),this.eventListeners.delete(n))}updateResizeListener(){this.unsubscribeToResizeIfSubscribed(),this.dynamicResize&&(this.resizeSubscription=gb(window,"resize",{passive:!0}).pipe(function uue(t,e=XP){return gt((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function u(){const c=o+t,l=e.now();if(l<c)return i=this.schedule(void 0,c-l),void r.add(i);a()}n.subscribe(mt(r,c=>{s=c,o=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(100)).subscribe(()=>{this.initialized&&this.drawChart()}))}unsubscribeToResizeIfSubscribed(){null!=this.resizeSubscription&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=void 0)}mergeOptions(){return{title:this.title,width:this.width,height:this.height,...this.options}}registerChartEvents(){google.visualization.events.removeAllListeners(this.wrapper),this.registerChartEvent(this.wrapper,"ready",()=>{google.visualization.events.removeAllListeners(this.chart),this.registerChartEvent(this.chart,"onmouseover",n=>this.mouseover.emit(n)),this.registerChartEvent(this.chart,"onmouseout",n=>this.mouseleave.emit(n)),this.registerChartEvent(this.chart,"select",()=>{const n=this.chart.getSelection();this.select.emit({selection:n})}),this.eventListeners.forEach(n=>n.handle=this.registerChartEvent(this.chart,n.eventName,n.callback)),this.ready.emit({chart:this.chart})}),this.registerChartEvent(this.wrapper,"error",n=>this.error.emit(n))}registerChartEvent(n,r,i){return google.visualization.events.addListener(n,r,i)}drawChart(){null==this.dashboard&&this.wrapper.draw()}}return t.\u0275fac=function(n){return new(n||t)(P(Dr),P(dg),P(xB),P(gue,8))},t.\u0275cmp=Bn({type:t,selectors:[["google-chart"]],hostAttrs:[1,"google-chart"],inputs:{type:"type",data:"data",columns:"columns",title:"title",width:"width",height:"height",options:"options",formatters:"formatters",dynamicResize:"dynamicResize"},outputs:{ready:"ready",error:"error",select:"select",mouseover:"mouseover",mouseleave:"mouseleave"},exportAs:["googleChart"],features:[wr],decls:0,vars:0,template:function(n,r){},styles:["[_nghost-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:block}"],changeDetection:0}),t})(),yue=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[{provide:AB,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({providers:[dg]}),t})();function _ue(t,e){if(1&t&&Rn(0,"google-chart",1),2&t){const n=Gn();re("title",n.title)("type",n.type)("data",n.myData)("options",n.myOptions)}}let vue=(()=>{class t{constructor(){this.title="chart",this.type=we.PieChart,this.myData=[]}ngOnInit(){const n=[];this.myData.forEach(r=>{var i=this.getRandomColor();n.push(i)}),this.myOptions={title:this.title,legend:{position:"right"},colors:n},console.log(this.myData,this.title)}getRandomColor(){for(var r="#",i=0;i<6;i++)r+="0123456789ABCDEF"[Math.floor(16*Math.random())];return r}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Bn({type:t,selectors:[["app-chart"]],inputs:{title:"title",type:"type",myData:"myData"},decls:1,vars:1,consts:[["style","width: 100%;","class","size",3,"title","type","data","options",4,"ngIf"],[1,"size",2,"width","100%",3,"title","type","data","options"]],template:function(n,r){1&n&&Ee(0,_ue,1,4,"google-chart",0),2&n&&re("ngIf",0!==r.myData.length)},dependencies:[Th,mue],styles:[".size[_ngcontent-%COMP%]{height:80%}"]}),t})();function wue(t,e){if(1&t&&Rn(0,"app-chart",11),2&t){const n=Gn();re("myData",n.jugadoresPorEdad)("type",n.type.Histogram)}}function Iue(t,e){if(1&t&&Rn(0,"app-chart",12),2&t){const n=Gn();re("myData",n.jugadoresPorAltura)("type",n.type.Histogram)}}function Eue(t,e){if(1&t&&Rn(0,"app-chart",13),2&t){const n=Gn();re("myData",n.jugadoresPorNAcionalidad)("type",n.type.PieChart)}}function Due(t,e){if(1&t&&Rn(0,"app-chart",14),2&t){const n=Gn();re("myData",n.jugadoresPorMaximoValor)("type",n.type.Histogram)}}function Tue(t,e){if(1&t&&Rn(0,"app-chart",15),2&t){const n=Gn();re("myData",n.jugadoresPorPrecioActual)("type",n.type.Histogram)}}function Cue(t,e){if(1&t&&Rn(0,"app-chart",16),2&t){const n=Gn();re("myData",n.jugadoresPorBirth)("type",n.type.PieChart)}}function bue(t,e){if(1&t&&Rn(0,"app-chart",17),2&t){const n=Gn();re("myData",n.jugadoresPorPosition)("type",n.type.PieChart)}}const Sue=[{path:"inicio",component:Oae},{path:"player-panel/:liga",component:Pae},{path:"player-card",component:tue},{path:"estadistica/:liga",component:(()=>{class t{constructor(n){this.playerService=n,this.title="chart",this.type=we,this.myOptions={title:"Country Populations",legend:{position:"right"},colors:["green"]},this.chartColumns=[{type:"string"},{type:"number"}],this.myData=[],this.jugadoresPorEdad=[],this.jugadoresPorAltura=[],this.jugadoresPorNAcionalidad=[],this.jugadoresPorMaximoValor=[],this.jugadoresPorPrecioActual=[],this.jugadoresPorBirth=[],this.jugadoresPorPosition=[];const r=this.playerService.ligaActual||JSON.parse(localStorage.getItem("liga_actual"));this.playerService.obtenerPlayers(r).subscribe(i=>{this.jugadores=i,this.getPlayersDataAge(),this.getPlayersDataHeight(),this.getPlayersDataNationality(),this.getPlayersDataMaxPrice(),this.getPlayersDataCurrentPrice(),this.getPlayersDataPlaceOfBirth(),this.getPlayersDataPosition()})}ngOnInit(){}getPlayersDataAge(){this.jugadores.forEach(n=>{this.jugadoresPorEdad.push([n.name,n.age])})}getPlayersDataHeight(){this.jugadores.forEach(n=>{this.jugadoresPorAltura.push([n.name,n.height])})}getPlayersDataNationality(){const n={};this.jugadores.forEach(r=>{n[r.nationality]=n[r.nationality]?n[r.nationality]+1:1}),this.jugadoresPorNAcionalidad=Object.entries(n)}getPlayersDataMaxPrice(){this.jugadores.forEach(n=>{this.jugadoresPorMaximoValor.push([n.name,n.max_price])})}getPlayersDataCurrentPrice(){this.jugadores.forEach(n=>{this.jugadoresPorPrecioActual.push([n.name,n.price])})}getPlayersDataPlaceOfBirth(){const n={};this.jugadores.forEach(r=>{n[r.place_of_birth]=n[r.place_of_birth]?n[r.place_of_birth]+1:1}),this.jugadoresPorBirth=Object.entries(n)}getPlayersDataPosition(){const n={};this.jugadores.forEach(r=>{n[r.position]=n[r.position]?n[r.position]+1:1}),this.jugadoresPorPosition=Object.entries(n)}}return t.\u0275fac=function(n){return new(n||t)(P(Sl))},t.\u0275cmp=Bn({type:t,selectors:[["app-statistics-panel"]],decls:18,vars:7,consts:[[1,"container","panel_backgorund"],[1,"text-white"],[1,"row"],[1,"col-12","mt-4"],["title","Histograma de jugadores por edad",3,"myData","type",4,"ngIf"],["title","Histograma de jugadores por altura",3,"myData","type",4,"ngIf"],["title","Nacionalidad de los jugadores",3,"myData","type",4,"ngIf"],["title","Histograma de jugadores por Maximo precio",3,"myData","type",4,"ngIf"],["title","Histograma de jugadores por Precio",3,"myData","type",4,"ngIf"],["title","Lugar de Nacimiento",3,"myData","type",4,"ngIf"],["title","Posiciones",3,"myData","type",4,"ngIf"],["title","Histograma de jugadores por edad",3,"myData","type"],["title","Histograma de jugadores por altura",3,"myData","type"],["title","Nacionalidad de los jugadores",3,"myData","type"],["title","Histograma de jugadores por Maximo precio",3,"myData","type"],["title","Histograma de jugadores por Precio",3,"myData","type"],["title","Lugar de Nacimiento",3,"myData","type"],["title","Posiciones",3,"myData","type"]],template:function(n,r){1&n&&(se(0,"div",0)(1,"h1",1),Me(2,"Estadisticas"),ie(),se(3,"div",2)(4,"div",3),Ee(5,wue,1,2,"app-chart",4),ie(),se(6,"div",3),Ee(7,Iue,1,2,"app-chart",5),ie(),se(8,"div",3),Ee(9,Eue,1,2,"app-chart",6),ie(),se(10,"div",3),Ee(11,Due,1,2,"app-chart",7),ie(),se(12,"div",3),Ee(13,Tue,1,2,"app-chart",8),ie(),se(14,"div",3),Ee(15,Cue,1,2,"app-chart",9),ie(),se(16,"div",3),Ee(17,bue,1,2,"app-chart",10),ie()()()),2&n&&(pe(5),re("ngIf",0!==r.jugadoresPorEdad.length),pe(2),re("ngIf",0!==r.jugadoresPorAltura.length),pe(2),re("ngIf",0!==r.jugadoresPorNAcionalidad.length),pe(2),re("ngIf",0!==r.jugadoresPorMaximoValor.length),pe(2),re("ngIf",0!==r.jugadoresPorPrecioActual.length),pe(2),re("ngIf",0!==r.jugadoresPorBirth.length),pe(2),re("ngIf",0!==r.jugadoresPorPosition.length))},dependencies:[Th,vue],styles:[".panel_backgorund[_ngcontent-%COMP%]{background-image:url(wallpaper_uefa.6cf0fe014d6c9a37.jpg)}"]}),t})()},{path:" ",redirectTo:"inicio",pathMatch:"full"}];let Aue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vr({type:t}),t.\u0275inj=Jn({imports:[EB.forRoot(Sue),EB]}),t})(),xue=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vr({type:t,bootstrap:[Mae]}),t.\u0275inj=Jn({imports:[T9,AY(()=>xY(TB_firebase)),Qie(()=>Yie()),Aue,yue]}),t})();(function LW(){Dk=!1})(),D9().bootstrapModule(xue).catch(t=>console.error(t))}},ye=>{ye(ye.s=303)}]);